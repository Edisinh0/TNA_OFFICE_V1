{"ast":null,"code":"var _jsxFileName = \"/Users/eddiecerpa/Downloads/TNAOffice_MariaDB-2/frontend/src/pages/Offices.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport apiClient from '../utils/api';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../components/ui/dialog';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport { Textarea } from '../components/ui/textarea';\nimport { OfficeFloorPlan } from '../components/OfficeFloorPlan';\nimport { Plus, Building2, Ruler, Edit, Trash2, CheckCircle, XCircle, Users, TrendingUp, TrendingDown, Share2, Copy, ExternalLink, CheckSquare, Square, MinusSquare, FileText, Home } from 'lucide-react';\nimport { toast } from 'sonner';\n\n// Valor de la UF (se puede actualizar según necesidad)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UF_VALUE = 38000; // Valor aproximado en CLP\n\nexport const Offices = () => {\n  _s();\n  var _clients$find;\n  const [offices, setOffices] = useState([]);\n  const [clients, setClients] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [editingOffice, setEditingOffice] = useState(null);\n  const [filterLocation, setFilterLocation] = useState('all');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [filterClient, setFilterClient] = useState('all');\n  const [activeFilter, setActiveFilter] = useState(null);\n  const [selectedOffices, setSelectedOffices] = useState([]);\n  const [showQuoteModal, setShowQuoteModal] = useState(false);\n  const [quoteClientName, setQuoteClientName] = useState('');\n  const [quoteNotes, setQuoteNotes] = useState('');\n  const [showNewClientModal, setShowNewClientModal] = useState(false);\n  const [newClientForm, setNewClientForm] = useState({\n    company_name: '',\n    rut: '',\n    notes: ''\n  });\n  const [form, setForm] = useState({\n    office_number: '',\n    related_office: '',\n    square_meters: '',\n    capacity: '',\n    location: 'NorOriente',\n    client_id: '',\n    billed_value_uf: '',\n    cost_uf: '',\n    sale_value_uf: '',\n    cost_difference_uf: '',\n    cost_difference_clp: '',\n    notes: ''\n  });\n  const locations = ['NorOriente', 'SurOriente', 'NorPoniente', 'SurPoniente'];\n  const loadData = async () => {\n    try {\n      const [officesRes, clientsRes] = await Promise.all([apiClient.get('/offices'), apiClient.get('/clients')]);\n      setOffices(officesRes.data);\n      setClients(clientsRes.data);\n    } catch (error) {\n      toast.error('Error al cargar datos');\n    }\n  };\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // Calcular automáticamente la diferencia de costo cuando cambien los valores\n  useEffect(() => {\n    const costUF = parseFloat(form.cost_uf) || 0;\n    const billedValueUF = parseFloat(form.billed_value_uf) || 0;\n\n    // Solo calcular si hay valores válidos\n    if (form.cost_uf !== '' || form.billed_value_uf !== '') {\n      // Calcular diferencia en UF (Facturado - Costo)\n      const differenceUF = billedValueUF - costUF;\n\n      // Calcular diferencia en CLP\n      const differenceCLP = differenceUF * UF_VALUE;\n      const newDiffUF = differenceUF.toFixed(2);\n      const newDiffCLP = differenceCLP.toFixed(0);\n\n      // Actualizar solo si los valores cambiaron realmente\n      if (String(form.cost_difference_uf) !== newDiffUF || String(form.cost_difference_clp) !== newDiffCLP) {\n        setForm(prev => ({\n          ...prev,\n          cost_difference_uf: newDiffUF,\n          cost_difference_clp: newDiffCLP\n        }));\n      }\n    }\n  }, [form.cost_uf, form.billed_value_uf]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const submitData = {\n        ...form,\n        square_meters: parseFloat(form.square_meters),\n        capacity: form.capacity ? parseInt(form.capacity) : Math.floor(parseFloat(form.square_meters) / 3),\n        billed_value_uf: parseFloat(form.billed_value_uf) || 0,\n        cost_uf: parseFloat(form.cost_uf) || 0,\n        sale_value_uf: parseFloat(form.sale_value_uf) || 0,\n        cost_difference_uf: parseFloat(form.cost_difference_uf) || 0,\n        cost_difference_clp: parseFloat(form.cost_difference_clp) || 0,\n        client_id: form.client_id || null\n      };\n      if (editingOffice) {\n        await apiClient.put(`/offices/${editingOffice.id}`, submitData);\n        toast.success('Oficina actualizada');\n      } else {\n        await apiClient.post('/offices', submitData);\n        toast.success('Oficina creada');\n      }\n      setShowModal(false);\n      resetForm();\n      loadData();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Error al guardar oficina');\n    }\n  };\n  const handleEdit = office => {\n    var _office$capacity;\n    setEditingOffice(office);\n    setForm({\n      office_number: office.office_number,\n      related_office: office.related_office || '',\n      square_meters: office.square_meters.toString(),\n      capacity: ((_office$capacity = office.capacity) === null || _office$capacity === void 0 ? void 0 : _office$capacity.toString()) || Math.floor(office.square_meters / 3).toString(),\n      location: office.location,\n      client_id: office.client_id || '',\n      billed_value_uf: office.billed_value_uf.toString(),\n      cost_uf: office.cost_uf.toString(),\n      sale_value_uf: office.sale_value_uf.toString(),\n      cost_difference_uf: office.cost_difference_uf.toString(),\n      cost_difference_clp: office.cost_difference_clp.toString(),\n      notes: office.notes || ''\n    });\n    setShowModal(true);\n  };\n  const handleDelete = async officeId => {\n    if (!window.confirm('¿Eliminar esta oficina?')) return;\n    try {\n      await apiClient.delete(`/offices/${officeId}`);\n      toast.success('Oficina eliminada');\n      setSelectedOffices(prev => prev.filter(id => id !== officeId));\n      loadData();\n    } catch (error) {\n      toast.error('Error al eliminar oficina');\n    }\n  };\n  const handleCreateNewClient = async e => {\n    e.preventDefault();\n    try {\n      const response = await apiClient.post('/clients', newClientForm);\n      toast.success('Cliente creado exitosamente');\n      setShowNewClientModal(false);\n      setNewClientForm({\n        company_name: '',\n        rut: '',\n        notes: ''\n      });\n\n      // Recargar clientes\n      await loadData();\n\n      // Asignar el nuevo cliente al formulario\n      setForm({\n        ...form,\n        client_id: response.data.id\n      });\n    } catch (error) {\n      toast.error('Error al crear cliente');\n    }\n  };\n\n  // Funciones de selección\n  const handleSelectOffice = officeId => {\n    setSelectedOffices(prev => {\n      if (prev.includes(officeId)) {\n        return prev.filter(id => id !== officeId);\n      } else {\n        return [...prev, officeId];\n      }\n    });\n  };\n  const handleSelectAllFiltered = () => {\n    const filteredIds = filteredOffices.map(o => o.id);\n    const allSelected = filteredIds.every(id => selectedOffices.includes(id));\n    if (allSelected) {\n      // Deseleccionar todas las oficinas filtradas\n      setSelectedOffices(prev => prev.filter(id => !filteredIds.includes(id)));\n    } else {\n      // Seleccionar todas las oficinas filtradas (agregar las que no están)\n      const newSelections = filteredIds.filter(id => !selectedOffices.includes(id));\n      setSelectedOffices(prev => [...prev, ...newSelections]);\n    }\n  };\n  const handleClearSelection = () => {\n    setSelectedOffices([]);\n  };\n  const handleDeleteSelected = async () => {\n    if (selectedOffices.length === 0) {\n      toast.error('No hay oficinas seleccionadas');\n      return;\n    }\n    if (window.confirm(`¿Estás seguro de eliminar ${selectedOffices.length} oficina(s) seleccionada(s)?`)) {\n      try {\n        await Promise.all(selectedOffices.map(officeId => apiClient.delete(`/offices/${officeId}`)));\n        toast.success(`${selectedOffices.length} oficina(s) eliminada(s)`);\n        setSelectedOffices([]);\n        loadData();\n      } catch (error) {\n        toast.error('Error al eliminar oficinas');\n      }\n    }\n  };\n  const handleCreateQuote = async () => {\n    if (selectedOffices.length === 0) {\n      toast.error('No hay oficinas seleccionadas');\n      return;\n    }\n    try {\n      toast.info('Capturando screenshot del plano...');\n\n      // Capturar screenshot del plano con las oficinas seleccionadas\n      let screenshotBase64 = '';\n      try {\n        const svgElement = document.querySelector('svg');\n        if (svgElement) {\n          // Clonar el SVG para no afectar el original\n          const clonedSvg = svgElement.cloneNode(true);\n          const svgString = new XMLSerializer().serializeToString(clonedSvg);\n\n          // Crear imagen desde SVG\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n\n          // Obtener dimensiones del SVG\n          const svgRect = svgElement.getBoundingClientRect();\n          canvas.width = svgRect.width || 1000;\n          canvas.height = svgRect.height || 600;\n\n          // Crear blob y URL\n          const svgBlob = new Blob([svgString], {\n            type: 'image/svg+xml;charset=utf-8'\n          });\n          const url = URL.createObjectURL(svgBlob);\n          const img = new Image();\n          await new Promise((resolve, reject) => {\n            img.onload = () => {\n              try {\n                // Fondo blanco\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n                // Dibujar SVG\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n                // Convertir a base64\n                screenshotBase64 = canvas.toDataURL('image/png', 0.9);\n                URL.revokeObjectURL(url);\n                console.log('Screenshot capturado exitosamente');\n                resolve();\n              } catch (err) {\n                reject(err);\n              }\n            };\n            img.onerror = err => {\n              console.error('Error al cargar imagen SVG:', err);\n              reject(err);\n            };\n            img.src = url;\n          });\n        }\n      } catch (error) {\n        console.error('Error capturando screenshot:', error);\n        toast.warning('No se pudo capturar el screenshot del plano. Podrás subirlo manualmente después.');\n      }\n\n      // Crear la cotización\n      const response = await apiClient.post('/quotes', {\n        office_ids: selectedOffices,\n        client_name: quoteClientName,\n        floor_plan_screenshot: screenshotBase64,\n        notes: quoteNotes\n      });\n      toast.success(`Cotización ${response.data.quote_number} creada exitosamente`);\n      setShowQuoteModal(false);\n      setQuoteClientName('');\n      setQuoteNotes('');\n      setSelectedOffices([]);\n\n      // Navegar a la página de cotizaciones\n      window.location.href = '/quotes';\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || 'Error al crear cotización');\n      console.error(error);\n    }\n  };\n  const resetForm = () => {\n    setForm({\n      office_number: '',\n      related_office: '',\n      square_meters: '',\n      capacity: '',\n      location: 'NorOriente',\n      client_id: '',\n      billed_value_uf: '',\n      cost_uf: '',\n      sale_value_uf: '',\n      cost_difference_uf: '',\n      cost_difference_clp: '',\n      notes: ''\n    });\n    setEditingOffice(null);\n  };\n  const formatUF = amount => {\n    return new Intl.NumberFormat('es-CL', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount) + ' UF';\n  };\n  const formatCLP = amount => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP',\n      minimumFractionDigits: 0\n    }).format(amount);\n  };\n  const getLocationColor = location => {\n    const colors = {\n      'NorOriente': 'bg-blue-100 text-blue-700',\n      'SurOriente': 'bg-green-100 text-green-700',\n      'NorPoniente': 'bg-orange-100 text-orange-700',\n      'SurPoniente': 'bg-purple-100 text-purple-700'\n    };\n    return colors[location] || 'bg-gray-100 text-gray-700';\n  };\n  const filteredOffices = offices.filter(office => {\n    const locationMatch = filterLocation === 'all' || office.location === filterLocation;\n    const statusMatch = filterStatus === 'all' || office.status === filterStatus;\n    const clientMatch = filterClient === 'all' || (filterClient === 'unassigned' ? !office.client_id : office.client_id === filterClient);\n\n    // Apply active filter from cards\n    if (activeFilter === 'occupied') {\n      return office.status === 'occupied' && locationMatch && clientMatch;\n    } else if (activeFilter === 'available') {\n      return office.status === 'available' && locationMatch && clientMatch;\n    } else if (activeFilter === 'positive_margin') {\n      return office.margin_percentage > 0 && locationMatch && statusMatch && clientMatch;\n    } else if (activeFilter === 'negative_margin') {\n      return office.margin_percentage < 0 && locationMatch && statusMatch && clientMatch;\n    }\n    return locationMatch && statusMatch && clientMatch;\n  });\n\n  // Determinar qué oficinas usar para los cálculos (seleccionadas o todas las filtradas)\n  const officesToCalculate = selectedOffices.length > 0 ? filteredOffices.filter(o => selectedOffices.includes(o.id)) : filteredOffices;\n\n  // Calculate stats based on selected or filtered offices\n  const totalOffices = officesToCalculate.length;\n  const occupiedOffices = officesToCalculate.filter(o => o.status === 'occupied').length;\n  const availableOffices = officesToCalculate.filter(o => o.status === 'available').length;\n\n  // Total de metros cuadrados\n  const totalSquareMeters = officesToCalculate.reduce((sum, o) => sum + (o.square_meters || 0), 0);\n  const totalIncome = officesToCalculate.filter(o => o.status === 'occupied').reduce((sum, o) => sum + o.billed_value_uf, 0);\n\n  // Total de venta esperada (suma de sale_value_uf de oficinas arrendadas)\n  const totalExpectedSale = officesToCalculate.filter(o => o.status === 'occupied').reduce((sum, o) => sum + (o.sale_value_uf || 0), 0);\n\n  // Include ALL offices in margin calculation (even those without billing)\n  const totalMarginUF = officesToCalculate.reduce((sum, o) => sum + o.cost_difference_uf, 0);\n  const totalMarginCLP = officesToCalculate.reduce((sum, o) => sum + o.cost_difference_clp, 0);\n  const positiveMarginCount = officesToCalculate.filter(o => o.margin_percentage > 0).length;\n  const negativeMarginCount = officesToCalculate.filter(o => o.margin_percentage < 0).length;\n\n  // Calculate margin by client (including offices without billing)\n  const clientMargins = {};\n\n  // Group by client - usar officesToCalculate para que refleje la selección\n  officesToCalculate.forEach(office => {\n    if (office.client_id) {\n      if (!clientMargins[office.client_id]) {\n        clientMargins[office.client_id] = {\n          client_name: office.client_name,\n          total_margin_uf: 0,\n          total_margin_clp: 0,\n          office_count: 0\n        };\n      }\n      clientMargins[office.client_id].total_margin_uf += office.cost_difference_uf;\n      clientMargins[office.client_id].total_margin_clp += office.cost_difference_clp;\n      clientMargins[office.client_id].office_count += 1;\n    }\n  });\n\n  // Add \"unassigned\" as a pseudo-client for offices without client\n  const unassignedOffices = officesToCalculate.filter(o => !o.client_id);\n  if (unassignedOffices.length > 0) {\n    const unassignedMarginUF = unassignedOffices.reduce((sum, o) => sum + o.cost_difference_uf, 0);\n    const unassignedMarginCLP = unassignedOffices.reduce((sum, o) => sum + o.cost_difference_clp, 0);\n    clientMargins['unassigned'] = {\n      client_name: 'Sin Asignar (Disponibles)',\n      total_margin_uf: unassignedMarginUF,\n      total_margin_clp: unassignedMarginCLP,\n      office_count: unassignedOffices.length\n    };\n  }\n\n  // Sort by margin\n  const sortedClients = Object.values(clientMargins).sort((a, b) => b.total_margin_uf - a.total_margin_uf);\n  const topClients = sortedClients.slice(0, 3);\n  const bottomClients = sortedClients.slice(-3).reverse();\n  const handleCardFilter = filter => {\n    if (activeFilter === filter) {\n      // Si ya está activo, desactivar\n      setActiveFilter(null);\n      setFilterStatus('all');\n    } else {\n      // Activar nuevo filtro\n      setActiveFilter(filter);\n      if (filter === 'occupied' || filter === 'available') {\n        setFilterStatus(filter);\n      } else {\n        setFilterStatus('all');\n      }\n    }\n  };\n  const copyFanPageLink = () => {\n    const fanPageUrl = `${window.location.origin}/oficinas`;\n    navigator.clipboard.writeText(fanPageUrl).then(() => {\n      toast.success('¡Enlace copiado al portapapeles!');\n    }).catch(() => {\n      toast.error('Error al copiar enlace');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    \"data-testid\": \"offices-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-secondary text-4xl md:text-5xl font-black uppercase text-black tracking-tight\",\n          children: \"ADMINISTRACI\\xD3N DE OFICINAS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-1 w-32 tna-gradient mt-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          resetForm();\n          setShowModal(true);\n        },\n        className: \"bg-black text-white hover:bg-gray-800 rounded-sm font-bold uppercase tracking-wide font-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this), \"NUEVA OFICINA\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 rounded-sm shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between flex-wrap gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-600 p-2 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(Share2, {\n                className: \"w-5 h-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-secondary text-sm uppercase text-green-900 font-bold\",\n                children: \"Fan Page P\\xFAblica de Oficinas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-green-700 font-primary\",\n                children: \"Comparte este enlace con clientes potenciales\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white border border-green-200 rounded px-3 py-2\",\n              children: /*#__PURE__*/_jsxDEV(\"code\", {\n                className: \"text-sm text-gray-700 font-mono\",\n                children: [window.location.origin, \"/oficinas\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: copyFanPageLink,\n              className: \"bg-green-600 hover:bg-green-700 text-white rounded-sm font-secondary uppercase text-xs tracking-wide\",\n              size: \"sm\",\n              children: [/*#__PURE__*/_jsxDEV(Copy, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 17\n              }, this), \"Copiar Link\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => window.open('/oficinas', '_blank'),\n              variant: \"outline\",\n              className: \"bg-white border-green-300 text-green-700 hover:bg-green-50 rounded-sm font-secondary uppercase text-xs tracking-wide\",\n              size: \"sm\",\n              children: [/*#__PURE__*/_jsxDEV(ExternalLink, {\n                className: \"w-4 h-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 17\n              }, this), \"Abrir\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OfficeFloorPlan, {\n      offices: offices,\n      filteredOffices: filteredOffices,\n      selectedOfficeIds: selectedOffices,\n      onOfficeSelect: office => {\n        // Al hacer click en una oficina del plano, agregar/quitar de la selección\n        setSelectedOffices(prev => {\n          if (prev.includes(office.id)) {\n            return prev.filter(id => id !== office.id);\n          } else {\n            return [...prev, office.id];\n          }\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\",\n      children: [selectedOffices.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-5 bg-orange-100 border border-orange-300 rounded-sm p-3 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-orange-800 font-primary\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold\",\n            children: selectedOffices.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 15\n          }, this), \" oficinas seleccionadas - Los totales reflejan solo la selecci\\xF3n\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedOffices([]),\n          className: \"text-xs bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded font-primary\",\n          children: \"Limpiar selecci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: `bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md ${activeFilter === null ? 'ring-2 ring-blue-500' : ''} ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`,\n        onClick: () => {\n          setActiveFilter(null);\n          setFilterStatus('all');\n        },\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-2\",\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-secondary uppercase text-gray-600\",\n            children: \"Total Oficinas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl font-bold text-black font-primary\",\n            children: totalOffices\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-primary mt-1\",\n            children: selectedOffices.length > 0 ? `${selectedOffices.length} seleccionadas` : filterLocation !== 'all' || filterClient !== 'all' ? 'Filtrado' : 'Click para ver todas'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: `bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md ${activeFilter === 'occupied' ? 'ring-2 ring-green-500' : ''} ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`,\n        onClick: () => handleCardFilter('occupied'),\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-2\",\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-secondary uppercase text-gray-600\",\n            children: \"Ocupadas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl font-bold text-green-600 font-primary\",\n            children: occupiedOffices\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-primary mt-1\",\n            children: selectedOffices.length > 0 ? `De ${selectedOffices.length} sel.` : 'Click para filtrar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: `bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md ${activeFilter === 'available' ? 'ring-2 ring-blue-500' : ''} ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`,\n        onClick: () => handleCardFilter('available'),\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-2\",\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-secondary uppercase text-gray-600\",\n            children: \"Disponibles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl font-bold text-blue-600 font-primary\",\n            children: availableOffices\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-primary mt-1\",\n            children: selectedOffices.length > 0 ? `De ${selectedOffices.length} sel.` : 'Click para filtrar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: `bg-white border-gray-200 rounded-sm ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-2\",\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-secondary uppercase text-gray-600\",\n            children: \"Metros Cuadrados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl font-bold text-purple-600 font-primary\",\n            children: [totalSquareMeters.toFixed(1), \"m\\xB2\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-primary mt-1\",\n            children: selectedOffices.length > 0 ? `${selectedOffices.length} seleccionadas` : 'Total superficie'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: `bg-white border-gray-200 rounded-sm ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-2\",\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-secondary uppercase text-gray-600\",\n            children: \"Ingresos (Facturado)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-black font-primary\",\n            children: formatUF(totalIncome)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-primary mt-1\",\n            children: selectedOffices.length > 0 ? `${selectedOffices.length} seleccionadas` : filterLocation !== 'all' || filterClient !== 'all' ? 'Filtrado' : 'Solo ocupadas'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: `bg-white border-gray-200 rounded-sm ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-2\",\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-secondary uppercase text-gray-600\",\n            children: \"Venta Esperada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-amber-600 font-primary\",\n            children: formatUF(totalExpectedSale)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-700 font-primary mt-1\",\n            children: formatCLP(totalExpectedSale * UF_VALUE)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-primary mt-1\",\n            children: selectedOffices.length > 0 ? `${selectedOffices.length} seleccionadas` : 'Solo ocupadas'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 686,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: `bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md ${activeFilter === 'positive_margin' || activeFilter === 'negative_margin' ? 'ring-2 ring-purple-500' : ''} ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`,\n        onClick: () => {\n          if (activeFilter === 'positive_margin') {\n            handleCardFilter('negative_margin');\n          } else if (activeFilter === 'negative_margin') {\n            setActiveFilter(null);\n          } else {\n            handleCardFilter('positive_margin');\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"pb-2\",\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-secondary uppercase text-gray-600 flex items-center gap-1\",\n            children: [\"Margen Ejercicio\", totalMarginUF >= 0 ? /*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"w-4 h-4 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(TrendingDown, {\n              className: \"w-4 h-4 text-red-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-2xl font-bold font-primary ${totalMarginUF >= 0 ? 'text-green-600' : 'text-red-600'}`,\n            children: formatUF(totalMarginUF)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-700 font-primary mt-1\",\n            children: formatCLP(totalMarginCLP)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 font-primary mt-1\",\n            children: selectedOffices.length > 0 ? `${selectedOffices.length} seleccionadas` : activeFilter === 'positive_margin' ? `${positiveMarginCount} positivos` : activeFilter === 'negative_margin' ? `${negativeMarginCount} negativos` : 'Click: positivos → negativos'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 723,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"bg-white border-gray-200 rounded-sm\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        className: \"border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"font-secondary uppercase text-black\",\n            children: \"Filtros\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 13\n          }, this), (filterLocation !== 'all' || filterStatus !== 'all' || filterClient !== 'all') && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              setFilterLocation('all');\n              setFilterStatus('all');\n              setFilterClient('all');\n              setActiveFilter(null);\n              // Seleccionar todas las oficinas al limpiar filtros\n              setSelectedOffices(offices.map(o => o.id));\n            },\n            variant: \"outline\",\n            size: \"sm\",\n            className: \"bg-white border-gray-300 text-gray-700 hover:bg-gray-50 rounded-sm\",\n            children: \"Limpiar todos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"pt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"Ubicaci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 770,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filterLocation,\n              onChange: e => setFilterLocation(e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded-sm bg-white text-black\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"Todas las ubicaciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 776,\n                columnNumber: 17\n              }, this), locations.map(loc => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: loc,\n                children: loc\n              }, loc, false, {\n                fileName: _jsxFileName,\n                lineNumber: 778,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"Estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filterStatus,\n              onChange: e => setFilterStatus(e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded-sm bg-white text-black\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"Todos los estados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 789,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"available\",\n                children: \"Disponible\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"occupied\",\n                children: \"Ocupada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 791,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 784,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"Empresa/Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filterClient,\n              onChange: e => setFilterClient(e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded-sm bg-white text-black\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"Todas las empresas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 801,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"unassigned\",\n                children: \"Sin asignar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 802,\n                columnNumber: 17\n              }, this), clients.filter(client => offices.some(o => o.client_id === client.id)).sort((a, b) => a.company_name.localeCompare(b.company_name)).map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: client.id,\n                children: client.company_name\n              }, client.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 807,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 768,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"bg-white border-gray-200 rounded-sm\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"border-b border-gray-200 bg-green-50\",\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"font-secondary uppercase text-black flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"w-5 h-5 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 15\n            }, this), \"Top 3 Clientes - Mejor Margen\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-4\",\n          children: topClients.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: topClients.map((client, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-3 bg-green-50 rounded-sm border border-green-200 hover:bg-green-100 transition-colors cursor-pointer\",\n              onClick: () => {\n                const clientObj = clients.find(c => c.company_name === client.client_name);\n                if (clientObj) {\n                  setFilterClient(clientObj.id);\n                  setActiveFilter(null);\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white font-bold text-sm font-primary\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 843,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 842,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-bold text-black font-primary\",\n                    children: client.client_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 846,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-600 font-primary\",\n                    children: [client.office_count, \" oficina\", client.office_count > 1 ? 's' : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 847,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 845,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 841,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-bold text-green-600 font-primary\",\n                  children: formatUF(client.total_margin_uf)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 851,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 font-primary\",\n                  children: formatCLP(client.total_margin_clp)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 854,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 21\n              }, this)]\n            }, client.client_name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"w-12 h-12 text-gray-300 mx-auto mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-sm font-primary\",\n              children: \"No hay datos disponibles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 864,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 819,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"bg-white border-gray-200 rounded-sm\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"border-b border-gray-200 bg-red-50\",\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"font-secondary uppercase text-black flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingDown, {\n              className: \"w-5 h-5 text-red-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 874,\n              columnNumber: 15\n            }, this), \"Top 3 Clientes - Peor Margen\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 872,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-4\",\n          children: bottomClients.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: bottomClients.map((client, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-3 bg-red-50 rounded-sm border border-red-200 hover:bg-red-100 transition-colors cursor-pointer\",\n              onClick: () => {\n                const clientObj = clients.find(c => c.company_name === client.client_name);\n                if (clientObj) {\n                  setFilterClient(clientObj.id);\n                  setActiveFilter(null);\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white font-bold text-sm font-primary\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 895,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 894,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-bold text-black font-primary\",\n                    children: client.client_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 898,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-600 font-primary\",\n                    children: [client.office_count, \" oficina\", client.office_count > 1 ? 's' : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 899,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 897,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 893,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-bold text-red-600 font-primary\",\n                  children: formatUF(client.total_margin_uf)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 903,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 font-primary\",\n                  children: formatCLP(client.total_margin_clp)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 906,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 21\n              }, this)]\n            }, client.client_name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingDown, {\n              className: \"w-12 h-12 text-gray-300 mx-auto mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 915,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-sm font-primary\",\n              children: \"No hay datos disponibles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 871,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 817,\n      columnNumber: 7\n    }, this), (activeFilter || filterClient !== 'all') && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-primary text-blue-900\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Filtros activos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 13\n        }, this), activeFilter && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-primary\",\n          children: activeFilter === 'occupied' ? 'Ocupadas' : activeFilter === 'available' ? 'Disponibles' : activeFilter === 'positive_margin' ? 'Margen Positivo' : activeFilter === 'negative_margin' ? 'Margen Negativo' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 931,\n          columnNumber: 15\n        }, this), filterClient !== 'all' && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs font-primary\",\n          children: filterClient === 'unassigned' ? 'Sin asignar' : (_clients$find = clients.find(c => c.id === filterClient)) === null || _clients$find === void 0 ? void 0 : _clients$find.company_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 941,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-primary text-blue-900\",\n          children: [\"(\", filteredOffices.length, \" oficinas)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 945,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 926,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          setActiveFilter(null);\n          setFilterStatus('all');\n          setFilterClient('all');\n        },\n        variant: \"outline\",\n        size: \"sm\",\n        className: \"bg-white border-blue-300 text-blue-700 hover:bg-blue-50 rounded-sm\",\n        children: \"Limpiar filtros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 949,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 925,\n      columnNumber: 9\n    }, this), selectedOffices.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n      className: \"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 rounded-sm\",\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between flex-wrap gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(CheckSquare, {\n              className: \"w-5 h-5 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-primary font-semibold text-gray-900\",\n              children: [selectedOffices.length, \" oficina(s) seleccionada(s)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600 font-primary\",\n              children: [selectedOffices.filter(id => filteredOffices.find(o => o.id === id)).length, \" visible(s) en filtro actual\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 975,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowQuoteModal(true),\n              variant: \"outline\",\n              size: \"sm\",\n              className: \"bg-white border-blue-300 text-blue-600 hover:bg-blue-50 rounded-sm\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 986,\n                columnNumber: 19\n              }, this), \"Crear Cotizaci\\xF3n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 980,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClearSelection,\n              variant: \"outline\",\n              size: \"sm\",\n              className: \"bg-white border-gray-300 text-gray-700 hover:bg-gray-50 rounded-sm\",\n              children: \"Limpiar selecci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 989,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleDeleteSelected,\n              variant: \"outline\",\n              size: \"sm\",\n              className: \"bg-white border-red-300 text-red-600 hover:bg-red-50 rounded-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1003,\n                columnNumber: 19\n              }, this), \"Eliminar seleccionadas\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 997,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 969,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 968,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 967,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"bg-white border-gray-200 rounded-sm\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        className: \"border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n          className: \"font-secondary uppercase text-black\",\n          children: [\"Listado de Oficinas \", activeFilter && `(${filteredOffices.length})`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1013,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-0\",\n        children: filteredOffices.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50 border-b border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-center text-xs font-secondary uppercase text-gray-600\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleSelectAllFiltered,\n                    className: \"flex items-center justify-center w-full hover:bg-gray-100 rounded p-1 transition-colors\",\n                    title: \"Seleccionar/Deseleccionar todas las filtradas\",\n                    children: (() => {\n                      const filteredIds = filteredOffices.map(o => o.id);\n                      const selectedInFilter = filteredIds.filter(id => selectedOffices.includes(id));\n                      if (selectedInFilter.length === 0) {\n                        return /*#__PURE__*/_jsxDEV(Square, {\n                          className: \"w-4 h-4 text-gray-400\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1034,\n                          columnNumber: 36\n                        }, this);\n                      } else if (selectedInFilter.length === filteredIds.length) {\n                        return /*#__PURE__*/_jsxDEV(CheckSquare, {\n                          className: \"w-4 h-4 text-blue-600\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1036,\n                          columnNumber: 36\n                        }, this);\n                      } else {\n                        return /*#__PURE__*/_jsxDEV(MinusSquare, {\n                          className: \"w-4 h-4 text-blue-600\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1038,\n                          columnNumber: 36\n                        }, this);\n                      }\n                    })()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1025,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1024,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1043,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Oficina\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1044,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Cliente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1045,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Ubicaci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1046,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\",\n                  children: \"m\\xB2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1047,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Capacidad\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1048,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Venta Esperada\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1049,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Facturado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1050,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Costo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1051,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Margen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1052,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Dif. UF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1053,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Dif. CLP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1054,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-center text-xs font-secondary uppercase text-gray-600\",\n                  children: \"Acciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1055,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1023,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1022,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y divide-gray-200\",\n              children: filteredOffices.map(office => {\n                const marginIsNegative = office.margin_percentage < 0;\n                const hasNoIncome = office.billed_value_uf === 0;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"hover:bg-gray-50 transition-colors\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleSelectOffice(office.id),\n                      className: \"flex items-center justify-center w-full hover:bg-gray-100 rounded p-1 transition-colors\",\n                      children: selectedOffices.includes(office.id) ? /*#__PURE__*/_jsxDEV(CheckSquare, {\n                        className: \"w-4 h-4 text-blue-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1071,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(Square, {\n                        className: \"w-4 h-4 text-gray-400\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1073,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1066,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1065,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3\",\n                    children: office.status === 'occupied' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                        className: \"w-4 h-4 text-green-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1080,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs text-green-600 font-primary font-medium\",\n                        children: \"Ocupada\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1081,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1079,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                        className: \"w-4 h-4 text-gray-400\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1085,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs text-gray-500 font-primary\",\n                        children: \"Disponible\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1086,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1084,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1077,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Building2, {\n                        className: \"w-4 h-4 text-blue-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1092,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm font-bold text-black font-primary\",\n                          children: office.office_number\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1094,\n                          columnNumber: 31\n                        }, this), office.related_office && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500 font-primary\",\n                          children: office.related_office\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1096,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1093,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1091,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1090,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3\",\n                    children: office.client_name ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-black font-primary font-medium\",\n                      children: office.client_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1103,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-400 font-primary italic\",\n                      children: \"Sin asignar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1105,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1101,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `text-xs px-2 py-1 rounded ${getLocationColor(office.location)} font-primary`,\n                      children: office.location\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1109,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1108,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-700 font-primary\",\n                      children: office.square_meters\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1114,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1113,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-700 font-primary\",\n                      children: [office.capacity || Math.floor(office.square_meters / 3), \" personas\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1117,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1116,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-bold text-purple-600 font-primary\",\n                      children: formatUF(office.sale_value_uf)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1122,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1121,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-bold text-green-600 font-primary\",\n                      children: formatUF(office.billed_value_uf)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1127,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1126,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-bold text-orange-600 font-primary\",\n                      children: formatUF(office.cost_uf)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1132,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1131,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-end gap-1\",\n                      children: [marginIsNegative ? /*#__PURE__*/_jsxDEV(TrendingDown, {\n                        className: \"w-3 h-3 text-red-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1139,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(TrendingUp, {\n                        className: \"w-3 h-3 text-green-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1141,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `text-sm font-bold font-primary ${marginIsNegative ? 'text-red-600' : 'text-green-600'}`,\n                        children: [office.margin_percentage.toFixed(2), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1143,\n                        columnNumber: 29\n                      }, this), hasNoIncome && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs text-red-500 font-primary ml-1\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1149,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1137,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1136,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-sm font-primary ${office.cost_difference_uf < 0 ? 'text-red-600' : 'text-green-600'}`,\n                      children: formatUF(office.cost_difference_uf)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1154,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1153,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-sm font-primary ${office.cost_difference_clp < 0 ? 'text-red-600' : 'text-green-600'}`,\n                      children: formatCLP(office.cost_difference_clp)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1161,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1160,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-center gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        onClick: () => handleEdit(office),\n                        variant: \"outline\",\n                        size: \"sm\",\n                        className: \"h-8 w-8 p-0 bg-white border-gray-300 text-black hover:bg-gray-50 rounded-sm\",\n                        children: /*#__PURE__*/_jsxDEV(Edit, {\n                          className: \"w-3 h-3\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1175,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1169,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: () => handleDelete(office.id),\n                        variant: \"outline\",\n                        size: \"sm\",\n                        className: \"h-8 w-8 p-0 bg-white border-red-300 text-red-600 hover:bg-red-50 rounded-sm\",\n                        children: /*#__PURE__*/_jsxDEV(Trash2, {\n                          className: \"w-3 h-3\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1183,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1177,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1168,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1167,\n                    columnNumber: 25\n                  }, this)]\n                }, office.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1064,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1021,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1020,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(Building2, {\n            className: \"w-16 h-16 text-gray-300 mx-auto mb-4\",\n            strokeWidth: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 font-primary\",\n            children: \"No hay oficinas que coincidan con los filtros\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1194,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1018,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1012,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showModal,\n      onOpenChange: setShowModal,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"bg-white border-gray-200 text-black max-w-3xl max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: /*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"font-secondary uppercase text-xl text-black\",\n            children: editingOffice ? 'EDITAR OFICINA' : 'NUEVA OFICINA'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-4 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: \"N\\xFAmero de Oficina *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                value: form.office_number,\n                onChange: e => setForm({\n                  ...form,\n                  office_number: e.target.value\n                }),\n                placeholder: \"1701\",\n                className: \"bg-white border-gray-300 text-black\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: \"Oficina Relacionada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                value: form.related_office,\n                onChange: e => setForm({\n                  ...form,\n                  related_office: e.target.value\n                }),\n                placeholder: \"1701 IN\",\n                className: \"bg-white border-gray-300 text-black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: \"Metros Cuadrados *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                step: \"0.01\",\n                value: form.square_meters,\n                onChange: e => {\n                  const m2 = e.target.value;\n                  setForm({\n                    ...form,\n                    square_meters: m2,\n                    capacity: m2 ? Math.floor(parseFloat(m2) / 3).toString() : ''\n                  });\n                },\n                placeholder: \"45.5\",\n                className: \"bg-white border-gray-300 text-black\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1236,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: [\"Capacidad (personas) *\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500 block\",\n                  children: \"1 persona / 3m\\xB2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1256,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                value: form.capacity,\n                onChange: e => setForm({\n                  ...form,\n                  capacity: e.target.value\n                }),\n                placeholder: \"15\",\n                className: \"bg-white border-gray-300 text-black\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1258,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: \"Ubicaci\\xF3n *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: form.location,\n                onChange: e => setForm({\n                  ...form,\n                  location: e.target.value\n                }),\n                className: \"w-full p-2 border border-gray-300 rounded-sm bg-white text-black\",\n                required: true,\n                children: locations.map(loc => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: loc,\n                  children: loc\n                }, loc, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1276,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1269,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1267,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"Cliente Asignado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                value: form.client_id,\n                onChange: e => setForm({\n                  ...form,\n                  client_id: e.target.value\n                }),\n                className: \"flex-1 p-2 border border-gray-300 rounded-sm bg-white text-black\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Sin asignar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1290,\n                  columnNumber: 19\n                }, this), clients.map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: client.id,\n                  children: client.company_name\n                }, client.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1292,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1285,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                onClick: () => setShowNewClientModal(true),\n                className: \"bg-orange-500 hover:bg-orange-600 text-white\",\n                title: \"Crear nuevo cliente\",\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1301,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1295,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: \"Valor Facturado (UF)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                step: \"0.01\",\n                value: form.billed_value_uf,\n                onChange: e => setForm({\n                  ...form,\n                  billed_value_uf: e.target.value\n                }),\n                placeholder: \"17.50\",\n                className: \"bg-white border-gray-300 text-black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1309,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: \"Costo (UF)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1319,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                step: \"0.01\",\n                value: form.cost_uf,\n                onChange: e => setForm({\n                  ...form,\n                  cost_uf: e.target.value\n                }),\n                placeholder: \"20.14\",\n                className: \"bg-white border-gray-300 text-black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: \"Venta Esperada (UF)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                step: \"0.01\",\n                value: form.sale_value_uf,\n                onChange: e => setForm({\n                  ...form,\n                  sale_value_uf: e.target.value\n                }),\n                placeholder: \"24.38\",\n                className: \"bg-white border-gray-300 text-black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1331,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1329,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: [\"Diferencia Costo (UF) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"(auto)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1344,\n                  columnNumber: 94\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                step: \"0.01\",\n                value: form.cost_difference_uf,\n                readOnly: true,\n                disabled: true,\n                placeholder: \"Calculado autom\\xE1ticamente\",\n                className: \"bg-gray-100 border-gray-300 text-black cursor-not-allowed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1345,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"text-black font-primary font-medium\",\n                children: [\"Diferencia Costo (CLP) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"(auto)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1356,\n                  columnNumber: 95\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                step: \"1\",\n                value: form.cost_difference_clp,\n                readOnly: true,\n                disabled: true,\n                placeholder: \"Calculado autom\\xE1ticamente\",\n                className: \"bg-gray-100 border-gray-300 text-black cursor-not-allowed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"Notas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              value: form.notes,\n              onChange: e => setForm({\n                ...form,\n                notes: e.target.value\n              }),\n              placeholder: \"Informaci\\xF3n adicional...\",\n              className: \"bg-white border-gray-300 text-black min-h-20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1371,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"button\",\n              onClick: () => {\n                setShowModal(false);\n                resetForm();\n              },\n              variant: \"outline\",\n              className: \"flex-1 bg-white border-gray-300 text-black hover:bg-gray-50 rounded-sm\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              className: \"flex-1 bg-black text-white hover:bg-gray-800 rounded-sm font-bold uppercase tracking-wide font-secondary\",\n              children: editingOffice ? 'ACTUALIZAR' : 'CREAR'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1391,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1379,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1204,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showQuoteModal,\n      onOpenChange: setShowQuoteModal,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"max-w-4xl max-h-[90vh] overflow-y-auto bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: /*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"font-secondary uppercase text-black\",\n            children: \"Crear Cotizaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1406,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            className: \"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200\",\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              className: \"p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-secondary uppercase text-black mb-4\",\n                children: [\"Oficinas Seleccionadas (\", selectedOffices.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 mb-4\",\n                children: selectedOffices.map(officeId => {\n                  const office = offices.find(o => o.id === officeId);\n                  if (!office) return null;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-white rounded-lg p-3 flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-secondary font-bold text-lg\",\n                        children: office.office_number\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1426,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm text-gray-600\",\n                        children: office.location\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1427,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1425,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-6 text-sm\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: [office.square_meters, \"m\\xB2\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1430,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1430,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: [office.capacity || Math.floor(office.square_meters / 3), \" pers.\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1431,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1431,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-600 font-bold\",\n                        children: formatUF(office.sale_value_uf)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1432,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-orange-600 font-bold\",\n                        children: [\"Costo: \", formatUF(office.cost_uf || 0)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1433,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1429,\n                      columnNumber: 25\n                    }, this)]\n                  }, office.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1424,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1419,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t-2 border-blue-300 pt-4 mt-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-4 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Total m\\xB2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1444,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-2xl font-black text-black font-secondary\",\n                      children: [selectedOffices.reduce((sum, id) => {\n                        const office = offices.find(o => o.id === id);\n                        return sum + ((office === null || office === void 0 ? void 0 : office.square_meters) || 0);\n                      }, 0).toFixed(1), \"m\\xB2\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1445,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1443,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Capacidad Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1453,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-2xl font-black text-black font-secondary\",\n                      children: [selectedOffices.reduce((sum, id) => {\n                        const office = offices.find(o => o.id === id);\n                        const capacity = (office === null || office === void 0 ? void 0 : office.capacity) || Math.floor((office === null || office === void 0 ? void 0 : office.square_meters) / 3) || 0;\n                        return sum + capacity;\n                      }, 0), \" pers.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1454,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1452,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Valor Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1463,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-2xl font-black text-green-600 font-secondary\",\n                      children: formatUF(selectedOffices.reduce((sum, id) => {\n                        const office = offices.find(o => o.id === id);\n                        return sum + ((office === null || office === void 0 ? void 0 : office.sale_value_uf) || 0);\n                      }, 0))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1464,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1462,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Costo Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1472,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-2xl font-black text-orange-600 font-secondary\",\n                      children: formatUF(selectedOffices.reduce((sum, id) => {\n                        const office = offices.find(o => o.id === id);\n                        return sum + ((office === null || office === void 0 ? void 0 : office.cost_uf) || 0);\n                      }, 0))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1473,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1471,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1442,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1441,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1414,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1413,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"Cliente Potencial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: quoteClientName,\n              onChange: e => setQuoteClientName(e.target.value),\n              placeholder: \"Nombre del cliente potencial...\",\n              className: \"mt-2 bg-white border-gray-300 text-black font-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1488,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"Notas (Opcional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1498,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              value: quoteNotes,\n              onChange: e => setQuoteNotes(e.target.value),\n              placeholder: \"Agrega notas adicionales para esta cotizaci\\xF3n...\",\n              className: \"mt-2 bg-white border-gray-300 text-black font-primary\",\n              rows: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1499,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1497,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowQuoteModal(false),\n              variant: \"outline\",\n              className: \"border-gray-300 text-gray-700 hover:bg-gray-50 rounded-sm\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1510,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleCreateQuote,\n              className: \"bg-blue-600 hover:bg-blue-700 text-white rounded-sm\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1521,\n                columnNumber: 17\n              }, this), \"Crear Cotizaci\\xF3n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1517,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1509,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1411,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1404,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1403,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showNewClientModal,\n      onOpenChange: setShowNewClientModal,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"bg-white border-gray-200 text-black\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: /*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"font-secondary uppercase text-xl text-black\",\n            children: \"CREAR NUEVO CLIENTE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1533,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleCreateNewClient,\n          className: \"space-y-4 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"Nombre de la empresa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: newClientForm.company_name,\n              onChange: e => setNewClientForm({\n                ...newClientForm,\n                company_name: e.target.value\n              }),\n              className: \"bg-white border-gray-300 text-black\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1540,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1538,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"RUT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1548,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: newClientForm.rut,\n              onChange: e => setNewClientForm({\n                ...newClientForm,\n                rut: e.target.value\n              }),\n              className: \"bg-white border-gray-300 text-black\",\n              placeholder: \"Ej: 12.345.678-9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1549,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1547,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"text-black font-primary font-medium\",\n              children: \"Notas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1557,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              value: newClientForm.notes,\n              onChange: e => setNewClientForm({\n                ...newClientForm,\n                notes: e.target.value\n              }),\n              className: \"bg-white border-gray-300 text-black\",\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1558,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1556,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              className: \"flex-1 bg-black text-white hover:bg-gray-800 rounded-sm font-bold uppercase tracking-wide font-secondary\",\n              children: \"CREAR CLIENTE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1566,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"button\",\n              variant: \"outline\",\n              onClick: () => {\n                setShowNewClientModal(false);\n                setNewClientForm({\n                  company_name: '',\n                  rut: '',\n                  notes: ''\n                });\n              },\n              className: \"border-gray-300\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1572,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1565,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1537,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1531,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1530,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 490,\n    columnNumber: 5\n  }, this);\n};\n_s(Offices, \"gwwvGYQRBTWiA5rv/CkMxnUEjxo=\");\n_c = Offices;\nvar _c;\n$RefreshReg$(_c, \"Offices\");","map":{"version":3,"names":["useState","useEffect","apiClient","Card","CardContent","CardHeader","CardTitle","Button","Dialog","DialogContent","DialogHeader","DialogTitle","Input","Label","Textarea","OfficeFloorPlan","Plus","Building2","Ruler","Edit","Trash2","CheckCircle","XCircle","Users","TrendingUp","TrendingDown","Share2","Copy","ExternalLink","CheckSquare","Square","MinusSquare","FileText","Home","toast","jsxDEV","_jsxDEV","UF_VALUE","Offices","_s","_clients$find","offices","setOffices","clients","setClients","showModal","setShowModal","editingOffice","setEditingOffice","filterLocation","setFilterLocation","filterStatus","setFilterStatus","filterClient","setFilterClient","activeFilter","setActiveFilter","selectedOffices","setSelectedOffices","showQuoteModal","setShowQuoteModal","quoteClientName","setQuoteClientName","quoteNotes","setQuoteNotes","showNewClientModal","setShowNewClientModal","newClientForm","setNewClientForm","company_name","rut","notes","form","setForm","office_number","related_office","square_meters","capacity","location","client_id","billed_value_uf","cost_uf","sale_value_uf","cost_difference_uf","cost_difference_clp","locations","loadData","officesRes","clientsRes","Promise","all","get","data","error","costUF","parseFloat","billedValueUF","differenceUF","differenceCLP","newDiffUF","toFixed","newDiffCLP","String","prev","handleSubmit","e","preventDefault","submitData","parseInt","Math","floor","put","id","success","post","resetForm","_error$response","_error$response$data","response","detail","handleEdit","office","_office$capacity","toString","handleDelete","officeId","window","confirm","delete","filter","handleCreateNewClient","handleSelectOffice","includes","handleSelectAllFiltered","filteredIds","filteredOffices","map","o","allSelected","every","newSelections","handleClearSelection","handleDeleteSelected","length","handleCreateQuote","info","screenshotBase64","svgElement","document","querySelector","clonedSvg","cloneNode","svgString","XMLSerializer","serializeToString","canvas","createElement","ctx","getContext","svgRect","getBoundingClientRect","width","height","svgBlob","Blob","type","url","URL","createObjectURL","img","Image","resolve","reject","onload","fillStyle","fillRect","drawImage","toDataURL","revokeObjectURL","console","log","err","onerror","src","warning","office_ids","client_name","floor_plan_screenshot","quote_number","href","_error$response2","_error$response2$data","formatUF","amount","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","formatCLP","style","currency","getLocationColor","colors","locationMatch","statusMatch","status","clientMatch","margin_percentage","officesToCalculate","totalOffices","occupiedOffices","availableOffices","totalSquareMeters","reduce","sum","totalIncome","totalExpectedSale","totalMarginUF","totalMarginCLP","positiveMarginCount","negativeMarginCount","clientMargins","forEach","total_margin_uf","total_margin_clp","office_count","unassignedOffices","unassignedMarginUF","unassignedMarginCLP","sortedClients","Object","values","sort","a","b","topClients","slice","bottomClients","reverse","handleCardFilter","copyFanPageLink","fanPageUrl","origin","navigator","clipboard","writeText","then","catch","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","open","variant","selectedOfficeIds","onOfficeSelect","value","onChange","target","loc","client","some","localeCompare","index","clientObj","find","c","title","selectedInFilter","marginIsNegative","hasNoIncome","strokeWidth","onOpenChange","onSubmit","placeholder","required","step","m2","readOnly","disabled","rows","_c","$RefreshReg$"],"sources":["/Users/eddiecerpa/Downloads/TNAOffice_MariaDB-2/frontend/src/pages/Offices.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport apiClient from '../utils/api';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../components/ui/dialog';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport { Textarea } from '../components/ui/textarea';\nimport { OfficeFloorPlan } from '../components/OfficeFloorPlan';\nimport { \n  Plus, \n  Building2, \n  Ruler, \n  Edit, \n  Trash2,\n  CheckCircle,\n  XCircle,\n  Users,\n  TrendingUp,\n  TrendingDown,\n  Share2,\n  Copy,\n  ExternalLink,\n  CheckSquare,\n  Square,\n  MinusSquare,\n  FileText,\n  Home\n} from 'lucide-react';\nimport { toast } from 'sonner';\n\n// Valor de la UF (se puede actualizar según necesidad)\nconst UF_VALUE = 38000; // Valor aproximado en CLP\n\nexport const Offices = () => {\n  const [offices, setOffices] = useState([]);\n  const [clients, setClients] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [editingOffice, setEditingOffice] = useState(null);\n  const [filterLocation, setFilterLocation] = useState('all');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [filterClient, setFilterClient] = useState('all');\n  const [activeFilter, setActiveFilter] = useState(null);\n  const [selectedOffices, setSelectedOffices] = useState([]);\n  const [showQuoteModal, setShowQuoteModal] = useState(false);\n  const [quoteClientName, setQuoteClientName] = useState('');\n  const [quoteNotes, setQuoteNotes] = useState('');\n  const [showNewClientModal, setShowNewClientModal] = useState(false);\n  const [newClientForm, setNewClientForm] = useState({\n    company_name: '',\n    rut: '',\n    notes: ''\n  });\n\n  const [form, setForm] = useState({\n    office_number: '',\n    related_office: '',\n    square_meters: '',\n    capacity: '',\n    location: 'NorOriente',\n    client_id: '',\n    billed_value_uf: '',\n    cost_uf: '',\n    sale_value_uf: '',\n    cost_difference_uf: '',\n    cost_difference_clp: '',\n    notes: ''\n  });\n\n  const locations = ['NorOriente', 'SurOriente', 'NorPoniente', 'SurPoniente'];\n\n  const loadData = async () => {\n    try {\n      const [officesRes, clientsRes] = await Promise.all([\n        apiClient.get('/offices'),\n        apiClient.get('/clients')\n      ]);\n      setOffices(officesRes.data);\n      setClients(clientsRes.data);\n    } catch (error) {\n      toast.error('Error al cargar datos');\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // Calcular automáticamente la diferencia de costo cuando cambien los valores\n  useEffect(() => {\n    const costUF = parseFloat(form.cost_uf) || 0;\n    const billedValueUF = parseFloat(form.billed_value_uf) || 0;\n    \n    // Solo calcular si hay valores válidos\n    if (form.cost_uf !== '' || form.billed_value_uf !== '') {\n      // Calcular diferencia en UF (Facturado - Costo)\n      const differenceUF = billedValueUF - costUF;\n      \n      // Calcular diferencia en CLP\n      const differenceCLP = differenceUF * UF_VALUE;\n      \n      const newDiffUF = differenceUF.toFixed(2);\n      const newDiffCLP = differenceCLP.toFixed(0);\n      \n      // Actualizar solo si los valores cambiaron realmente\n      if (String(form.cost_difference_uf) !== newDiffUF || \n          String(form.cost_difference_clp) !== newDiffCLP) {\n        setForm(prev => ({\n          ...prev,\n          cost_difference_uf: newDiffUF,\n          cost_difference_clp: newDiffCLP\n        }));\n      }\n    }\n  }, [form.cost_uf, form.billed_value_uf]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const submitData = {\n        ...form,\n        square_meters: parseFloat(form.square_meters),\n        capacity: form.capacity ? parseInt(form.capacity) : Math.floor(parseFloat(form.square_meters) / 3),\n        billed_value_uf: parseFloat(form.billed_value_uf) || 0,\n        cost_uf: parseFloat(form.cost_uf) || 0,\n        sale_value_uf: parseFloat(form.sale_value_uf) || 0,\n        cost_difference_uf: parseFloat(form.cost_difference_uf) || 0,\n        cost_difference_clp: parseFloat(form.cost_difference_clp) || 0,\n        client_id: form.client_id || null\n      };\n\n      if (editingOffice) {\n        await apiClient.put(`/offices/${editingOffice.id}`, submitData);\n        toast.success('Oficina actualizada');\n      } else {\n        await apiClient.post('/offices', submitData);\n        toast.success('Oficina creada');\n      }\n      \n      setShowModal(false);\n      resetForm();\n      loadData();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Error al guardar oficina');\n    }\n  };\n\n  const handleEdit = (office) => {\n    setEditingOffice(office);\n    setForm({\n      office_number: office.office_number,\n      related_office: office.related_office || '',\n      square_meters: office.square_meters.toString(),\n      capacity: office.capacity?.toString() || Math.floor(office.square_meters / 3).toString(),\n      location: office.location,\n      client_id: office.client_id || '',\n      billed_value_uf: office.billed_value_uf.toString(),\n      cost_uf: office.cost_uf.toString(),\n      sale_value_uf: office.sale_value_uf.toString(),\n      cost_difference_uf: office.cost_difference_uf.toString(),\n      cost_difference_clp: office.cost_difference_clp.toString(),\n      notes: office.notes || ''\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = async (officeId) => {\n    if (!window.confirm('¿Eliminar esta oficina?')) return;\n    try {\n      await apiClient.delete(`/offices/${officeId}`);\n      toast.success('Oficina eliminada');\n      setSelectedOffices(prev => prev.filter(id => id !== officeId));\n      loadData();\n    } catch (error) {\n      toast.error('Error al eliminar oficina');\n    }\n  };\n\n  const handleCreateNewClient = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await apiClient.post('/clients', newClientForm);\n      toast.success('Cliente creado exitosamente');\n      setShowNewClientModal(false);\n      setNewClientForm({ company_name: '', rut: '', notes: '' });\n      \n      // Recargar clientes\n      await loadData();\n      \n      // Asignar el nuevo cliente al formulario\n      setForm({ ...form, client_id: response.data.id });\n    } catch (error) {\n      toast.error('Error al crear cliente');\n    }\n  };\n\n  // Funciones de selección\n  const handleSelectOffice = (officeId) => {\n    setSelectedOffices(prev => {\n      if (prev.includes(officeId)) {\n        return prev.filter(id => id !== officeId);\n      } else {\n        return [...prev, officeId];\n      }\n    });\n  };\n\n  const handleSelectAllFiltered = () => {\n    const filteredIds = filteredOffices.map(o => o.id);\n    const allSelected = filteredIds.every(id => selectedOffices.includes(id));\n    \n    if (allSelected) {\n      // Deseleccionar todas las oficinas filtradas\n      setSelectedOffices(prev => prev.filter(id => !filteredIds.includes(id)));\n    } else {\n      // Seleccionar todas las oficinas filtradas (agregar las que no están)\n      const newSelections = filteredIds.filter(id => !selectedOffices.includes(id));\n      setSelectedOffices(prev => [...prev, ...newSelections]);\n    }\n  };\n\n  const handleClearSelection = () => {\n    setSelectedOffices([]);\n  };\n\n  const handleDeleteSelected = async () => {\n    if (selectedOffices.length === 0) {\n      toast.error('No hay oficinas seleccionadas');\n      return;\n    }\n\n    if (window.confirm(`¿Estás seguro de eliminar ${selectedOffices.length} oficina(s) seleccionada(s)?`)) {\n      try {\n        await Promise.all(\n          selectedOffices.map(officeId => apiClient.delete(`/offices/${officeId}`))\n        );\n        toast.success(`${selectedOffices.length} oficina(s) eliminada(s)`);\n        setSelectedOffices([]);\n        loadData();\n      } catch (error) {\n        toast.error('Error al eliminar oficinas');\n      }\n    }\n  };\n\n  const handleCreateQuote = async () => {\n    if (selectedOffices.length === 0) {\n      toast.error('No hay oficinas seleccionadas');\n      return;\n    }\n\n    try {\n      toast.info('Capturando screenshot del plano...');\n      \n      // Capturar screenshot del plano con las oficinas seleccionadas\n      let screenshotBase64 = '';\n      try {\n        const svgElement = document.querySelector('svg');\n        if (svgElement) {\n          // Clonar el SVG para no afectar el original\n          const clonedSvg = svgElement.cloneNode(true);\n          const svgString = new XMLSerializer().serializeToString(clonedSvg);\n          \n          // Crear imagen desde SVG\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n          \n          // Obtener dimensiones del SVG\n          const svgRect = svgElement.getBoundingClientRect();\n          canvas.width = svgRect.width || 1000;\n          canvas.height = svgRect.height || 600;\n          \n          // Crear blob y URL\n          const svgBlob = new Blob([svgString], { type: 'image/svg+xml;charset=utf-8' });\n          const url = URL.createObjectURL(svgBlob);\n          \n          const img = new Image();\n          \n          await new Promise((resolve, reject) => {\n            img.onload = () => {\n              try {\n                // Fondo blanco\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                \n                // Dibujar SVG\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n                \n                // Convertir a base64\n                screenshotBase64 = canvas.toDataURL('image/png', 0.9);\n                \n                URL.revokeObjectURL(url);\n                console.log('Screenshot capturado exitosamente');\n                resolve();\n              } catch (err) {\n                reject(err);\n              }\n            };\n            img.onerror = (err) => {\n              console.error('Error al cargar imagen SVG:', err);\n              reject(err);\n            };\n            img.src = url;\n          });\n        }\n      } catch (error) {\n        console.error('Error capturando screenshot:', error);\n        toast.warning('No se pudo capturar el screenshot del plano. Podrás subirlo manualmente después.');\n      }\n\n      // Crear la cotización\n      const response = await apiClient.post('/quotes', {\n        office_ids: selectedOffices,\n        client_name: quoteClientName,\n        floor_plan_screenshot: screenshotBase64,\n        notes: quoteNotes\n      });\n\n      toast.success(`Cotización ${response.data.quote_number} creada exitosamente`);\n      setShowQuoteModal(false);\n      setQuoteClientName('');\n      setQuoteNotes('');\n      setSelectedOffices([]);\n      \n      // Navegar a la página de cotizaciones\n      window.location.href = '/quotes';\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Error al crear cotización');\n      console.error(error);\n    }\n  };\n\n  const resetForm = () => {\n    setForm({\n      office_number: '',\n      related_office: '',\n      square_meters: '',\n      capacity: '',\n      location: 'NorOriente',\n      client_id: '',\n      billed_value_uf: '',\n      cost_uf: '',\n      sale_value_uf: '',\n      cost_difference_uf: '',\n      cost_difference_clp: '',\n      notes: ''\n    });\n    setEditingOffice(null);\n  };\n\n  const formatUF = (amount) => {\n    return new Intl.NumberFormat('es-CL', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount) + ' UF';\n  };\n\n  const formatCLP = (amount) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP',\n      minimumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const getLocationColor = (location) => {\n    const colors = {\n      'NorOriente': 'bg-blue-100 text-blue-700',\n      'SurOriente': 'bg-green-100 text-green-700',\n      'NorPoniente': 'bg-orange-100 text-orange-700',\n      'SurPoniente': 'bg-purple-100 text-purple-700'\n    };\n    return colors[location] || 'bg-gray-100 text-gray-700';\n  };\n\n  const filteredOffices = offices.filter(office => {\n    const locationMatch = filterLocation === 'all' || office.location === filterLocation;\n    const statusMatch = filterStatus === 'all' || office.status === filterStatus;\n    const clientMatch = filterClient === 'all' || \n                        (filterClient === 'unassigned' ? !office.client_id : office.client_id === filterClient);\n    \n    // Apply active filter from cards\n    if (activeFilter === 'occupied') {\n      return office.status === 'occupied' && locationMatch && clientMatch;\n    } else if (activeFilter === 'available') {\n      return office.status === 'available' && locationMatch && clientMatch;\n    } else if (activeFilter === 'positive_margin') {\n      return office.margin_percentage > 0 && locationMatch && statusMatch && clientMatch;\n    } else if (activeFilter === 'negative_margin') {\n      return office.margin_percentage < 0 && locationMatch && statusMatch && clientMatch;\n    }\n    \n    return locationMatch && statusMatch && clientMatch;\n  });\n\n  // Determinar qué oficinas usar para los cálculos (seleccionadas o todas las filtradas)\n  const officesToCalculate = selectedOffices.length > 0 \n    ? filteredOffices.filter(o => selectedOffices.includes(o.id))\n    : filteredOffices;\n\n  // Calculate stats based on selected or filtered offices\n  const totalOffices = officesToCalculate.length;\n  const occupiedOffices = officesToCalculate.filter(o => o.status === 'occupied').length;\n  const availableOffices = officesToCalculate.filter(o => o.status === 'available').length;\n  \n  // Total de metros cuadrados\n  const totalSquareMeters = officesToCalculate.reduce((sum, o) => sum + (o.square_meters || 0), 0);\n  \n  const totalIncome = officesToCalculate\n    .filter(o => o.status === 'occupied')\n    .reduce((sum, o) => sum + o.billed_value_uf, 0);\n\n  // Total de venta esperada (suma de sale_value_uf de oficinas arrendadas)\n  const totalExpectedSale = officesToCalculate\n    .filter(o => o.status === 'occupied')\n    .reduce((sum, o) => sum + (o.sale_value_uf || 0), 0);\n\n  // Include ALL offices in margin calculation (even those without billing)\n  const totalMarginUF = officesToCalculate.reduce((sum, o) => sum + o.cost_difference_uf, 0);\n  const totalMarginCLP = officesToCalculate.reduce((sum, o) => sum + o.cost_difference_clp, 0);\n\n  const positiveMarginCount = officesToCalculate.filter(o => o.margin_percentage > 0).length;\n  const negativeMarginCount = officesToCalculate.filter(o => o.margin_percentage < 0).length;\n\n  // Calculate margin by client (including offices without billing)\n  const clientMargins = {};\n  \n  // Group by client - usar officesToCalculate para que refleje la selección\n  officesToCalculate.forEach(office => {\n    if (office.client_id) {\n      if (!clientMargins[office.client_id]) {\n        clientMargins[office.client_id] = {\n          client_name: office.client_name,\n          total_margin_uf: 0,\n          total_margin_clp: 0,\n          office_count: 0\n        };\n      }\n      clientMargins[office.client_id].total_margin_uf += office.cost_difference_uf;\n      clientMargins[office.client_id].total_margin_clp += office.cost_difference_clp;\n      clientMargins[office.client_id].office_count += 1;\n    }\n  });\n  \n  // Add \"unassigned\" as a pseudo-client for offices without client\n  const unassignedOffices = officesToCalculate.filter(o => !o.client_id);\n  if (unassignedOffices.length > 0) {\n    const unassignedMarginUF = unassignedOffices.reduce((sum, o) => sum + o.cost_difference_uf, 0);\n    const unassignedMarginCLP = unassignedOffices.reduce((sum, o) => sum + o.cost_difference_clp, 0);\n    \n    clientMargins['unassigned'] = {\n      client_name: 'Sin Asignar (Disponibles)',\n      total_margin_uf: unassignedMarginUF,\n      total_margin_clp: unassignedMarginCLP,\n      office_count: unassignedOffices.length\n    };\n  }\n\n  // Sort by margin\n  const sortedClients = Object.values(clientMargins).sort((a, b) => b.total_margin_uf - a.total_margin_uf);\n  const topClients = sortedClients.slice(0, 3);\n  const bottomClients = sortedClients.slice(-3).reverse();\n\n  const handleCardFilter = (filter) => {\n    if (activeFilter === filter) {\n      // Si ya está activo, desactivar\n      setActiveFilter(null);\n      setFilterStatus('all');\n    } else {\n      // Activar nuevo filtro\n      setActiveFilter(filter);\n      if (filter === 'occupied' || filter === 'available') {\n        setFilterStatus(filter);\n      } else {\n        setFilterStatus('all');\n      }\n    }\n  };\n\n  const copyFanPageLink = () => {\n    const fanPageUrl = `${window.location.origin}/oficinas`;\n    navigator.clipboard.writeText(fanPageUrl).then(() => {\n      toast.success('¡Enlace copiado al portapapeles!');\n    }).catch(() => {\n      toast.error('Error al copiar enlace');\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\" data-testid=\"offices-page\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"font-secondary text-4xl md:text-5xl font-black uppercase text-black tracking-tight\">\n            ADMINISTRACIÓN DE OFICINAS\n          </h1>\n          <div className=\"h-1 w-32 tna-gradient mt-4\"></div>\n        </div>\n        <Button\n          onClick={() => {\n            resetForm();\n            setShowModal(true);\n          }}\n          className=\"bg-black text-white hover:bg-gray-800 rounded-sm font-bold uppercase tracking-wide font-secondary\"\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          NUEVA OFICINA\n        </Button>\n      </div>\n\n      {/* Fan Page Link Card */}\n      <Card className=\"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 rounded-sm shadow-sm\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex items-center justify-between flex-wrap gap-3\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"bg-green-600 p-2 rounded-lg\">\n                <Share2 className=\"w-5 h-5 text-white\" />\n              </div>\n              <div>\n                <p className=\"font-secondary text-sm uppercase text-green-900 font-bold\">\n                  Fan Page Pública de Oficinas\n                </p>\n                <p className=\"text-xs text-green-700 font-primary\">\n                  Comparte este enlace con clientes potenciales\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"bg-white border border-green-200 rounded px-3 py-2\">\n                <code className=\"text-sm text-gray-700 font-mono\">\n                  {window.location.origin}/oficinas\n                </code>\n              </div>\n              <Button\n                onClick={copyFanPageLink}\n                className=\"bg-green-600 hover:bg-green-700 text-white rounded-sm font-secondary uppercase text-xs tracking-wide\"\n                size=\"sm\"\n              >\n                <Copy className=\"w-4 h-4 mr-1\" />\n                Copiar Link\n              </Button>\n              <Button\n                onClick={() => window.open('/oficinas', '_blank')}\n                variant=\"outline\"\n                className=\"bg-white border-green-300 text-green-700 hover:bg-green-50 rounded-sm font-secondary uppercase text-xs tracking-wide\"\n                size=\"sm\"\n              >\n                <ExternalLink className=\"w-4 h-4 mr-1\" />\n                Abrir\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Interactive Floor Plan */}\n      <OfficeFloorPlan \n        offices={offices}\n        filteredOffices={filteredOffices}\n        selectedOfficeIds={selectedOffices}\n        onOfficeSelect={(office) => {\n          // Al hacer click en una oficina del plano, agregar/quitar de la selección\n          setSelectedOffices(prev => {\n            if (prev.includes(office.id)) {\n              return prev.filter(id => id !== office.id);\n            } else {\n              return [...prev, office.id];\n            }\n          });\n        }}\n      />\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n        {/* Indicador de selección */}\n        {selectedOffices.length > 0 && (\n          <div className=\"lg:col-span-5 bg-orange-100 border border-orange-300 rounded-sm p-3 flex items-center justify-between\">\n            <p className=\"text-sm text-orange-800 font-primary\">\n              <span className=\"font-bold\">{selectedOffices.length}</span> oficinas seleccionadas - Los totales reflejan solo la selección\n            </p>\n            <button \n              onClick={() => setSelectedOffices([])}\n              className=\"text-xs bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded font-primary\"\n            >\n              Limpiar selección\n            </button>\n          </div>\n        )}\n        \n        <Card \n          className={`bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md ${\n            activeFilter === null ? 'ring-2 ring-blue-500' : ''\n          } ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`}\n          onClick={() => {\n            setActiveFilter(null);\n            setFilterStatus('all');\n          }}\n        >\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-secondary uppercase text-gray-600\">Total Oficinas</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-black font-primary\">{totalOffices}</div>\n            <p className=\"text-xs text-gray-500 font-primary mt-1\">\n              {selectedOffices.length > 0 \n                ? `${selectedOffices.length} seleccionadas`\n                : (filterLocation !== 'all' || filterClient !== 'all') ? 'Filtrado' : 'Click para ver todas'}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card \n          className={`bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md ${\n            activeFilter === 'occupied' ? 'ring-2 ring-green-500' : ''\n          } ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`}\n          onClick={() => handleCardFilter('occupied')}\n        >\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-secondary uppercase text-gray-600\">Ocupadas</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-green-600 font-primary\">\n              {occupiedOffices}\n            </div>\n            <p className=\"text-xs text-gray-500 font-primary mt-1\">\n              {selectedOffices.length > 0 ? `De ${selectedOffices.length} sel.` : 'Click para filtrar'}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card \n          className={`bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md ${\n            activeFilter === 'available' ? 'ring-2 ring-blue-500' : ''\n          } ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`}\n          onClick={() => handleCardFilter('available')}\n        >\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-secondary uppercase text-gray-600\">Disponibles</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-blue-600 font-primary\">\n              {availableOffices}\n            </div>\n            <p className=\"text-xs text-gray-500 font-primary mt-1\">\n              {selectedOffices.length > 0 ? `De ${selectedOffices.length} sel.` : 'Click para filtrar'}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card className={`bg-white border-gray-200 rounded-sm ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`}>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-secondary uppercase text-gray-600\">Metros Cuadrados</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-purple-600 font-primary\">\n              {totalSquareMeters.toFixed(1)}m²\n            </div>\n            <p className=\"text-xs text-gray-500 font-primary mt-1\">\n              {selectedOffices.length > 0 \n                ? `${selectedOffices.length} seleccionadas`\n                : 'Total superficie'}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card className={`bg-white border-gray-200 rounded-sm ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`}>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-secondary uppercase text-gray-600\">Ingresos (Facturado)</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-black font-primary\">\n              {formatUF(totalIncome)}\n            </div>\n            <p className=\"text-xs text-gray-500 font-primary mt-1\">\n              {selectedOffices.length > 0 \n                ? `${selectedOffices.length} seleccionadas` \n                : (filterLocation !== 'all' || filterClient !== 'all') ? 'Filtrado' : 'Solo ocupadas'}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card className={`bg-white border-gray-200 rounded-sm ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`}>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-secondary uppercase text-gray-600\">Venta Esperada</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-amber-600 font-primary\">\n              {formatUF(totalExpectedSale)}\n            </div>\n            <p className=\"text-xs text-gray-700 font-primary mt-1\">\n              {formatCLP(totalExpectedSale * UF_VALUE)}\n            </p>\n            <p className=\"text-xs text-gray-500 font-primary mt-1\">\n              {selectedOffices.length > 0 ? `${selectedOffices.length} seleccionadas` : 'Solo ocupadas'}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card \n          className={`bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md ${\n            activeFilter === 'positive_margin' || activeFilter === 'negative_margin' ? 'ring-2 ring-purple-500' : ''\n          } ${selectedOffices.length > 0 ? 'ring-2 ring-orange-400' : ''}`}\n          onClick={() => {\n            if (activeFilter === 'positive_margin') {\n              handleCardFilter('negative_margin');\n            } else if (activeFilter === 'negative_margin') {\n              setActiveFilter(null);\n            } else {\n              handleCardFilter('positive_margin');\n            }\n          }}\n        >\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-secondary uppercase text-gray-600 flex items-center gap-1\">\n              Margen Ejercicio\n              {totalMarginUF >= 0 ? (\n                <TrendingUp className=\"w-4 h-4 text-green-600\" />\n              ) : (\n                <TrendingDown className=\"w-4 h-4 text-red-600\" />\n              )}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className={`text-2xl font-bold font-primary ${\n              totalMarginUF >= 0 ? 'text-green-600' : 'text-red-600'\n            }`}>\n              {formatUF(totalMarginUF)}\n            </div>\n            <p className=\"text-xs text-gray-700 font-primary mt-1\">\n              {formatCLP(totalMarginCLP)}\n            </p>\n            <p className=\"text-xs text-gray-500 font-primary mt-1\">\n              {selectedOffices.length > 0 \n                ? `${selectedOffices.length} seleccionadas`\n                : activeFilter === 'positive_margin' ? `${positiveMarginCount} positivos` : \n                  activeFilter === 'negative_margin' ? `${negativeMarginCount} negativos` : \n                  'Click: positivos → negativos'}\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"bg-white border-gray-200 rounded-sm\">\n        <CardHeader className=\"border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"font-secondary uppercase text-black\">Filtros</CardTitle>\n            {(filterLocation !== 'all' || filterStatus !== 'all' || filterClient !== 'all') && (\n              <Button\n                onClick={() => {\n                  setFilterLocation('all');\n                  setFilterStatus('all');\n                  setFilterClient('all');\n                  setActiveFilter(null);\n                  // Seleccionar todas las oficinas al limpiar filtros\n                  setSelectedOffices(offices.map(o => o.id));\n                }}\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"bg-white border-gray-300 text-gray-700 hover:bg-gray-50 rounded-sm\"\n              >\n                Limpiar todos\n              </Button>\n            )}\n          </div>\n        </CardHeader>\n        <CardContent className=\"pt-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <Label className=\"text-black font-primary font-medium\">Ubicación</Label>\n              <select\n                value={filterLocation}\n                onChange={(e) => setFilterLocation(e.target.value)}\n                className=\"w-full p-2 border border-gray-300 rounded-sm bg-white text-black\"\n              >\n                <option value=\"all\">Todas las ubicaciones</option>\n                {locations.map(loc => (\n                  <option key={loc} value={loc}>{loc}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <Label className=\"text-black font-primary font-medium\">Estado</Label>\n              <select\n                value={filterStatus}\n                onChange={(e) => setFilterStatus(e.target.value)}\n                className=\"w-full p-2 border border-gray-300 rounded-sm bg-white text-black\"\n              >\n                <option value=\"all\">Todos los estados</option>\n                <option value=\"available\">Disponible</option>\n                <option value=\"occupied\">Ocupada</option>\n              </select>\n            </div>\n            <div>\n              <Label className=\"text-black font-primary font-medium\">Empresa/Cliente</Label>\n              <select\n                value={filterClient}\n                onChange={(e) => setFilterClient(e.target.value)}\n                className=\"w-full p-2 border border-gray-300 rounded-sm bg-white text-black\"\n              >\n                <option value=\"all\">Todas las empresas</option>\n                <option value=\"unassigned\">Sin asignar</option>\n                {clients\n                  .filter(client => offices.some(o => o.client_id === client.id))\n                  .sort((a, b) => a.company_name.localeCompare(b.company_name))\n                  .map(client => (\n                    <option key={client.id} value={client.id}>{client.company_name}</option>\n                  ))\n                }\n              </select>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Top Clients Cards */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n        {/* Top 3 Best Margins */}\n        <Card className=\"bg-white border-gray-200 rounded-sm\">\n          <CardHeader className=\"border-b border-gray-200 bg-green-50\">\n            <CardTitle className=\"font-secondary uppercase text-black flex items-center gap-2\">\n              <TrendingUp className=\"w-5 h-5 text-green-600\" />\n              Top 3 Clientes - Mejor Margen\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"pt-4\">\n            {topClients.length > 0 ? (\n              <div className=\"space-y-3\">\n                {topClients.map((client, index) => (\n                  <div \n                    key={client.client_name}\n                    className=\"flex items-center justify-between p-3 bg-green-50 rounded-sm border border-green-200 hover:bg-green-100 transition-colors cursor-pointer\"\n                    onClick={() => {\n                      const clientObj = clients.find(c => c.company_name === client.client_name);\n                      if (clientObj) {\n                        setFilterClient(clientObj.id);\n                        setActiveFilter(null);\n                      }\n                    }}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center\">\n                        <span className=\"text-white font-bold text-sm font-primary\">{index + 1}</span>\n                      </div>\n                      <div>\n                        <p className=\"text-sm font-bold text-black font-primary\">{client.client_name}</p>\n                        <p className=\"text-xs text-gray-600 font-primary\">{client.office_count} oficina{client.office_count > 1 ? 's' : ''}</p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-lg font-bold text-green-600 font-primary\">\n                        {formatUF(client.total_margin_uf)}\n                      </p>\n                      <p className=\"text-xs text-gray-600 font-primary\">\n                        {formatCLP(client.total_margin_clp)}\n                      </p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <TrendingUp className=\"w-12 h-12 text-gray-300 mx-auto mb-2\" />\n                <p className=\"text-gray-500 text-sm font-primary\">No hay datos disponibles</p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Top 3 Worst Margins */}\n        <Card className=\"bg-white border-gray-200 rounded-sm\">\n          <CardHeader className=\"border-b border-gray-200 bg-red-50\">\n            <CardTitle className=\"font-secondary uppercase text-black flex items-center gap-2\">\n              <TrendingDown className=\"w-5 h-5 text-red-600\" />\n              Top 3 Clientes - Peor Margen\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"pt-4\">\n            {bottomClients.length > 0 ? (\n              <div className=\"space-y-3\">\n                {bottomClients.map((client, index) => (\n                  <div \n                    key={client.client_name}\n                    className=\"flex items-center justify-between p-3 bg-red-50 rounded-sm border border-red-200 hover:bg-red-100 transition-colors cursor-pointer\"\n                    onClick={() => {\n                      const clientObj = clients.find(c => c.company_name === client.client_name);\n                      if (clientObj) {\n                        setFilterClient(clientObj.id);\n                        setActiveFilter(null);\n                      }\n                    }}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center\">\n                        <span className=\"text-white font-bold text-sm font-primary\">{index + 1}</span>\n                      </div>\n                      <div>\n                        <p className=\"text-sm font-bold text-black font-primary\">{client.client_name}</p>\n                        <p className=\"text-xs text-gray-600 font-primary\">{client.office_count} oficina{client.office_count > 1 ? 's' : ''}</p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-lg font-bold text-red-600 font-primary\">\n                        {formatUF(client.total_margin_uf)}\n                      </p>\n                      <p className=\"text-xs text-gray-600 font-primary\">\n                        {formatCLP(client.total_margin_clp)}\n                      </p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <TrendingDown className=\"w-12 h-12 text-gray-300 mx-auto mb-2\" />\n                <p className=\"text-gray-500 text-sm font-primary\">No hay datos disponibles</p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Active Filter Indicator */}\n      {(activeFilter || filterClient !== 'all') && (\n        <div className=\"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-sm\">\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <span className=\"text-sm font-primary text-blue-900\">\n              <strong>Filtros activos:</strong>\n            </span>\n            {activeFilter && (\n              <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-primary\">\n                {\n                  activeFilter === 'occupied' ? 'Ocupadas' :\n                  activeFilter === 'available' ? 'Disponibles' :\n                  activeFilter === 'positive_margin' ? 'Margen Positivo' :\n                  activeFilter === 'negative_margin' ? 'Margen Negativo' : ''\n                }\n              </span>\n            )}\n            {filterClient !== 'all' && (\n              <span className=\"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs font-primary\">\n                {filterClient === 'unassigned' ? 'Sin asignar' : clients.find(c => c.id === filterClient)?.company_name}\n              </span>\n            )}\n            <span className=\"text-sm font-primary text-blue-900\">\n              ({filteredOffices.length} oficinas)\n            </span>\n          </div>\n          <Button\n            onClick={() => {\n              setActiveFilter(null);\n              setFilterStatus('all');\n              setFilterClient('all');\n            }}\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"bg-white border-blue-300 text-blue-700 hover:bg-blue-50 rounded-sm\"\n          >\n            Limpiar filtros\n          </Button>\n        </div>\n      )}\n\n      {/* Offices List */}\n      {/* Barra de acciones de selección */}\n      {selectedOffices.length > 0 && (\n        <Card className=\"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 rounded-sm\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between flex-wrap gap-4\">\n              <div className=\"flex items-center gap-4\">\n                <CheckSquare className=\"w-5 h-5 text-blue-600\" />\n                <span className=\"font-primary font-semibold text-gray-900\">\n                  {selectedOffices.length} oficina(s) seleccionada(s)\n                </span>\n                <span className=\"text-sm text-gray-600 font-primary\">\n                  {selectedOffices.filter(id => filteredOffices.find(o => o.id === id)).length} visible(s) en filtro actual\n                </span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Button\n                  onClick={() => setShowQuoteModal(true)}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"bg-white border-blue-300 text-blue-600 hover:bg-blue-50 rounded-sm\"\n                >\n                  <FileText className=\"w-4 h-4 mr-2\" />\n                  Crear Cotización\n                </Button>\n                <Button\n                  onClick={handleClearSelection}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"bg-white border-gray-300 text-gray-700 hover:bg-gray-50 rounded-sm\"\n                >\n                  Limpiar selección\n                </Button>\n                <Button\n                  onClick={handleDeleteSelected}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"bg-white border-red-300 text-red-600 hover:bg-red-50 rounded-sm\"\n                >\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\n                  Eliminar seleccionadas\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      <Card className=\"bg-white border-gray-200 rounded-sm\">\n        <CardHeader className=\"border-b border-gray-200\">\n          <CardTitle className=\"font-secondary uppercase text-black\">\n            Listado de Oficinas {activeFilter && `(${filteredOffices.length})`}\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"p-0\">\n          {filteredOffices.length > 0 ? (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50 border-b border-gray-200\">\n                  <tr>\n                    <th className=\"px-4 py-3 text-center text-xs font-secondary uppercase text-gray-600\">\n                      <button\n                        onClick={handleSelectAllFiltered}\n                        className=\"flex items-center justify-center w-full hover:bg-gray-100 rounded p-1 transition-colors\"\n                        title=\"Seleccionar/Deseleccionar todas las filtradas\"\n                      >\n                        {(() => {\n                          const filteredIds = filteredOffices.map(o => o.id);\n                          const selectedInFilter = filteredIds.filter(id => selectedOffices.includes(id));\n                          if (selectedInFilter.length === 0) {\n                            return <Square className=\"w-4 h-4 text-gray-400\" />;\n                          } else if (selectedInFilter.length === filteredIds.length) {\n                            return <CheckSquare className=\"w-4 h-4 text-blue-600\" />;\n                          } else {\n                            return <MinusSquare className=\"w-4 h-4 text-blue-600\" />;\n                          }\n                        })()}\n                      </button>\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-secondary uppercase text-gray-600\">Estado</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-secondary uppercase text-gray-600\">Oficina</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-secondary uppercase text-gray-600\">Cliente</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-secondary uppercase text-gray-600\">Ubicación</th>\n                    <th className=\"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\">m²</th>\n                    <th className=\"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\">Capacidad</th>\n                    <th className=\"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\">Venta Esperada</th>\n                    <th className=\"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\">Facturado</th>\n                    <th className=\"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\">Costo</th>\n                    <th className=\"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\">Margen</th>\n                    <th className=\"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\">Dif. UF</th>\n                    <th className=\"px-4 py-3 text-right text-xs font-secondary uppercase text-gray-600\">Dif. CLP</th>\n                    <th className=\"px-4 py-3 text-center text-xs font-secondary uppercase text-gray-600\">Acciones</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-200\">\n                  {filteredOffices.map((office) => {\n                    const marginIsNegative = office.margin_percentage < 0;\n                    const hasNoIncome = office.billed_value_uf === 0;\n                    \n                    return (\n                      <tr key={office.id} className=\"hover:bg-gray-50 transition-colors\">\n                        <td className=\"px-4 py-3 text-center\">\n                          <button\n                            onClick={() => handleSelectOffice(office.id)}\n                            className=\"flex items-center justify-center w-full hover:bg-gray-100 rounded p-1 transition-colors\"\n                          >\n                            {selectedOffices.includes(office.id) ? (\n                              <CheckSquare className=\"w-4 h-4 text-blue-600\" />\n                            ) : (\n                              <Square className=\"w-4 h-4 text-gray-400\" />\n                            )}\n                          </button>\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          {office.status === 'occupied' ? (\n                            <div className=\"flex items-center gap-2\">\n                              <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                              <span className=\"text-xs text-green-600 font-primary font-medium\">Ocupada</span>\n                            </div>\n                          ) : (\n                            <div className=\"flex items-center gap-2\">\n                              <XCircle className=\"w-4 h-4 text-gray-400\" />\n                              <span className=\"text-xs text-gray-500 font-primary\">Disponible</span>\n                            </div>\n                          )}\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          <div className=\"flex items-center gap-2\">\n                            <Building2 className=\"w-4 h-4 text-blue-600\" />\n                            <div>\n                              <p className=\"text-sm font-bold text-black font-primary\">{office.office_number}</p>\n                              {office.related_office && (\n                                <p className=\"text-xs text-gray-500 font-primary\">{office.related_office}</p>\n                              )}\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          {office.client_name ? (\n                            <p className=\"text-sm text-black font-primary font-medium\">{office.client_name}</p>\n                          ) : (\n                            <p className=\"text-sm text-gray-400 font-primary italic\">Sin asignar</p>\n                          )}\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          <span className={`text-xs px-2 py-1 rounded ${getLocationColor(office.location)} font-primary`}>\n                            {office.location}\n                          </span>\n                        </td>\n                        <td className=\"px-4 py-3 text-right\">\n                          <p className=\"text-sm text-gray-700 font-primary\">{office.square_meters}</p>\n                        </td>\n                        <td className=\"px-4 py-3 text-right\">\n                          <p className=\"text-sm text-gray-700 font-primary\">\n                            {office.capacity || Math.floor(office.square_meters / 3)} personas\n                          </p>\n                        </td>\n                        <td className=\"px-4 py-3 text-right\">\n                          <p className=\"text-sm font-bold text-purple-600 font-primary\">\n                            {formatUF(office.sale_value_uf)}\n                          </p>\n                        </td>\n                        <td className=\"px-4 py-3 text-right\">\n                          <p className=\"text-sm font-bold text-green-600 font-primary\">\n                            {formatUF(office.billed_value_uf)}\n                          </p>\n                        </td>\n                        <td className=\"px-4 py-3 text-right\">\n                          <p className=\"text-sm font-bold text-orange-600 font-primary\">\n                            {formatUF(office.cost_uf)}\n                          </p>\n                        </td>\n                        <td className=\"px-4 py-3 text-right\">\n                          <div className=\"flex items-center justify-end gap-1\">\n                            {marginIsNegative ? (\n                              <TrendingDown className=\"w-3 h-3 text-red-600\" />\n                            ) : (\n                              <TrendingUp className=\"w-3 h-3 text-green-600\" />\n                            )}\n                            <p className={`text-sm font-bold font-primary ${\n                              marginIsNegative ? 'text-red-600' : 'text-green-600'\n                            }`}>\n                              {office.margin_percentage.toFixed(2)}%\n                            </p>\n                            {hasNoIncome && (\n                              <span className=\"text-xs text-red-500 font-primary ml-1\">*</span>\n                            )}\n                          </div>\n                        </td>\n                        <td className=\"px-4 py-3 text-right\">\n                          <p className={`text-sm font-primary ${\n                            office.cost_difference_uf < 0 ? 'text-red-600' : 'text-green-600'\n                          }`}>\n                            {formatUF(office.cost_difference_uf)}\n                          </p>\n                        </td>\n                        <td className=\"px-4 py-3 text-right\">\n                          <p className={`text-sm font-primary ${\n                            office.cost_difference_clp < 0 ? 'text-red-600' : 'text-green-600'\n                          }`}>\n                            {formatCLP(office.cost_difference_clp)}\n                          </p>\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          <div className=\"flex items-center justify-center gap-1\">\n                            <Button\n                              onClick={() => handleEdit(office)}\n                              variant=\"outline\"\n                              size=\"sm\"\n                              className=\"h-8 w-8 p-0 bg-white border-gray-300 text-black hover:bg-gray-50 rounded-sm\"\n                            >\n                              <Edit className=\"w-3 h-3\" />\n                            </Button>\n                            <Button\n                              onClick={() => handleDelete(office.id)}\n                              variant=\"outline\"\n                              size=\"sm\"\n                              className=\"h-8 w-8 p-0 bg-white border-red-300 text-red-600 hover:bg-red-50 rounded-sm\"\n                            >\n                              <Trash2 className=\"w-3 h-3\" />\n                            </Button>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div className=\"text-center py-12\">\n              <Building2 className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" strokeWidth={1} />\n              <p className=\"text-gray-500 font-primary\">No hay oficinas que coincidan con los filtros</p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Modal */}\n      <Dialog open={showModal} onOpenChange={setShowModal}>\n        <DialogContent className=\"bg-white border-gray-200 text-black max-w-3xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"font-secondary uppercase text-xl text-black\">\n              {editingOffice ? 'EDITAR OFICINA' : 'NUEVA OFICINA'}\n            </DialogTitle>\n          </DialogHeader>\n          <form onSubmit={handleSubmit} className=\"space-y-4 mt-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <Label className=\"text-black font-primary font-medium\">Número de Oficina *</Label>\n                <Input\n                  value={form.office_number}\n                  onChange={(e) => setForm({ ...form, office_number: e.target.value })}\n                  placeholder=\"1701\"\n                  className=\"bg-white border-gray-300 text-black\"\n                  required\n                />\n              </div>\n              <div>\n                <Label className=\"text-black font-primary font-medium\">Oficina Relacionada</Label>\n                <Input\n                  value={form.related_office}\n                  onChange={(e) => setForm({ ...form, related_office: e.target.value })}\n                  placeholder=\"1701 IN\"\n                  className=\"bg-white border-gray-300 text-black\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div>\n                <Label className=\"text-black font-primary font-medium\">Metros Cuadrados *</Label>\n                <Input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={form.square_meters}\n                  onChange={(e) => {\n                    const m2 = e.target.value;\n                    setForm({ \n                      ...form, \n                      square_meters: m2,\n                      capacity: m2 ? Math.floor(parseFloat(m2) / 3).toString() : ''\n                    });\n                  }}\n                  placeholder=\"45.5\"\n                  className=\"bg-white border-gray-300 text-black\"\n                  required\n                />\n              </div>\n              <div>\n                <Label className=\"text-black font-primary font-medium\">\n                  Capacidad (personas) *\n                  <span className=\"text-xs text-gray-500 block\">1 persona / 3m²</span>\n                </Label>\n                <Input\n                  type=\"number\"\n                  value={form.capacity}\n                  onChange={(e) => setForm({ ...form, capacity: e.target.value })}\n                  placeholder=\"15\"\n                  className=\"bg-white border-gray-300 text-black\"\n                  required\n                />\n              </div>\n              <div>\n                <Label className=\"text-black font-primary font-medium\">Ubicación *</Label>\n                <select\n                  value={form.location}\n                  onChange={(e) => setForm({ ...form, location: e.target.value })}\n                  className=\"w-full p-2 border border-gray-300 rounded-sm bg-white text-black\"\n                  required\n                >\n                  {locations.map(loc => (\n                    <option key={loc} value={loc}>{loc}</option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            <div>\n              <Label className=\"text-black font-primary font-medium\">Cliente Asignado</Label>\n              <div className=\"flex gap-2\">\n                <select\n                  value={form.client_id}\n                  onChange={(e) => setForm({ ...form, client_id: e.target.value })}\n                  className=\"flex-1 p-2 border border-gray-300 rounded-sm bg-white text-black\"\n                >\n                  <option value=\"\">Sin asignar</option>\n                  {clients.map(client => (\n                    <option key={client.id} value={client.id}>{client.company_name}</option>\n                  ))}\n                </select>\n                <Button\n                  type=\"button\"\n                  onClick={() => setShowNewClientModal(true)}\n                  className=\"bg-orange-500 hover:bg-orange-600 text-white\"\n                  title=\"Crear nuevo cliente\"\n                >\n                  <Plus className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div>\n                <Label className=\"text-black font-primary font-medium\">Valor Facturado (UF)</Label>\n                <Input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={form.billed_value_uf}\n                  onChange={(e) => setForm({ ...form, billed_value_uf: e.target.value })}\n                  placeholder=\"17.50\"\n                  className=\"bg-white border-gray-300 text-black\"\n                />\n              </div>\n              <div>\n                <Label className=\"text-black font-primary font-medium\">Costo (UF)</Label>\n                <Input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={form.cost_uf}\n                  onChange={(e) => setForm({ ...form, cost_uf: e.target.value })}\n                  placeholder=\"20.14\"\n                  className=\"bg-white border-gray-300 text-black\"\n                />\n              </div>\n              <div>\n                <Label className=\"text-black font-primary font-medium\">Venta Esperada (UF)</Label>\n                <Input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={form.sale_value_uf}\n                  onChange={(e) => setForm({ ...form, sale_value_uf: e.target.value })}\n                  placeholder=\"24.38\"\n                  className=\"bg-white border-gray-300 text-black\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <Label className=\"text-black font-primary font-medium\">Diferencia Costo (UF) <span className=\"text-xs text-gray-500\">(auto)</span></Label>\n                <Input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={form.cost_difference_uf}\n                  readOnly\n                  disabled\n                  placeholder=\"Calculado automáticamente\"\n                  className=\"bg-gray-100 border-gray-300 text-black cursor-not-allowed\"\n                />\n              </div>\n              <div>\n                <Label className=\"text-black font-primary font-medium\">Diferencia Costo (CLP) <span className=\"text-xs text-gray-500\">(auto)</span></Label>\n                <Input\n                  type=\"number\"\n                  step=\"1\"\n                  value={form.cost_difference_clp}\n                  readOnly\n                  disabled\n                  placeholder=\"Calculado automáticamente\"\n                  className=\"bg-gray-100 border-gray-300 text-black cursor-not-allowed\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <Label className=\"text-black font-primary font-medium\">Notas</Label>\n              <Textarea\n                value={form.notes}\n                onChange={(e) => setForm({ ...form, notes: e.target.value })}\n                placeholder=\"Información adicional...\"\n                className=\"bg-white border-gray-300 text-black min-h-20\"\n              />\n            </div>\n\n            <div className=\"flex gap-2\">\n              <Button\n                type=\"button\"\n                onClick={() => {\n                  setShowModal(false);\n                  resetForm();\n                }}\n                variant=\"outline\"\n                className=\"flex-1 bg-white border-gray-300 text-black hover:bg-gray-50 rounded-sm\"\n              >\n                Cancelar\n              </Button>\n              <Button\n                type=\"submit\"\n                className=\"flex-1 bg-black text-white hover:bg-gray-800 rounded-sm font-bold uppercase tracking-wide font-secondary\"\n              >\n                {editingOffice ? 'ACTUALIZAR' : 'CREAR'}\n              </Button>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      {/* Modal de Cotización */}\n      <Dialog open={showQuoteModal} onOpenChange={setShowQuoteModal}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto bg-white\">\n          <DialogHeader>\n            <DialogTitle className=\"font-secondary uppercase text-black\">\n              Crear Cotización\n            </DialogTitle>\n          </DialogHeader>\n          \n          <div className=\"space-y-6\">\n            {/* Resumen de oficinas seleccionadas */}\n            <Card className=\"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200\">\n              <CardContent className=\"p-4\">\n                <h3 className=\"font-secondary uppercase text-black mb-4\">\n                  Oficinas Seleccionadas ({selectedOffices.length})\n                </h3>\n                \n                <div className=\"space-y-2 mb-4\">\n                  {selectedOffices.map(officeId => {\n                    const office = offices.find(o => o.id === officeId);\n                    if (!office) return null;\n                    return (\n                      <div key={office.id} className=\"bg-white rounded-lg p-3 flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4\">\n                          <span className=\"font-secondary font-bold text-lg\">{office.office_number}</span>\n                          <span className=\"text-sm text-gray-600\">{office.location}</span>\n                        </div>\n                        <div className=\"flex items-center gap-6 text-sm\">\n                          <span><strong>{office.square_meters}m²</strong></span>\n                          <span><strong>{office.capacity || Math.floor(office.square_meters / 3)} pers.</strong></span>\n                          <span className=\"text-green-600 font-bold\">{formatUF(office.sale_value_uf)}</span>\n                          <span className=\"text-orange-600 font-bold\">Costo: {formatUF(office.cost_uf || 0)}</span>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n                \n                {/* Totales */}\n                <div className=\"border-t-2 border-blue-300 pt-4 mt-4\">\n                  <div className=\"grid grid-cols-4 gap-4\">\n                    <div className=\"text-center\">\n                      <div className=\"text-sm text-gray-600\">Total m²</div>\n                      <div className=\"text-2xl font-black text-black font-secondary\">\n                        {selectedOffices.reduce((sum, id) => {\n                          const office = offices.find(o => o.id === id);\n                          return sum + (office?.square_meters || 0);\n                        }, 0).toFixed(1)}m²\n                      </div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-sm text-gray-600\">Capacidad Total</div>\n                      <div className=\"text-2xl font-black text-black font-secondary\">\n                        {selectedOffices.reduce((sum, id) => {\n                          const office = offices.find(o => o.id === id);\n                          const capacity = office?.capacity || Math.floor(office?.square_meters / 3) || 0;\n                          return sum + capacity;\n                        }, 0)} pers.\n                      </div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-sm text-gray-600\">Valor Total</div>\n                      <div className=\"text-2xl font-black text-green-600 font-secondary\">\n                        {formatUF(selectedOffices.reduce((sum, id) => {\n                          const office = offices.find(o => o.id === id);\n                          return sum + (office?.sale_value_uf || 0);\n                        }, 0))}\n                      </div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-sm text-gray-600\">Costo Total</div>\n                      <div className=\"text-2xl font-black text-orange-600 font-secondary\">\n                        {formatUF(selectedOffices.reduce((sum, id) => {\n                          const office = offices.find(o => o.id === id);\n                          return sum + (office?.cost_uf || 0);\n                        }, 0))}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            \n            {/* Cliente Potencial */}\n            <div>\n              <Label className=\"text-black font-primary font-medium\">Cliente Potencial</Label>\n              <Input\n                value={quoteClientName}\n                onChange={(e) => setQuoteClientName(e.target.value)}\n                placeholder=\"Nombre del cliente potencial...\"\n                className=\"mt-2 bg-white border-gray-300 text-black font-primary\"\n              />\n            </div>\n            \n            {/* Notas */}\n            <div>\n              <Label className=\"text-black font-primary font-medium\">Notas (Opcional)</Label>\n              <Textarea\n                value={quoteNotes}\n                onChange={(e) => setQuoteNotes(e.target.value)}\n                placeholder=\"Agrega notas adicionales para esta cotización...\"\n                className=\"mt-2 bg-white border-gray-300 text-black font-primary\"\n                rows={4}\n              />\n            </div>\n            \n            {/* Botones */}\n            <div className=\"flex justify-end gap-3\">\n              <Button\n                onClick={() => setShowQuoteModal(false)}\n                variant=\"outline\"\n                className=\"border-gray-300 text-gray-700 hover:bg-gray-50 rounded-sm\"\n              >\n                Cancelar\n              </Button>\n              <Button\n                onClick={handleCreateQuote}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white rounded-sm\"\n              >\n                <FileText className=\"w-4 h-4 mr-2\" />\n                Crear Cotización\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Modal para crear nuevo cliente */}\n      <Dialog open={showNewClientModal} onOpenChange={setShowNewClientModal}>\n        <DialogContent className=\"bg-white border-gray-200 text-black\">\n          <DialogHeader>\n            <DialogTitle className=\"font-secondary uppercase text-xl text-black\">\n              CREAR NUEVO CLIENTE\n            </DialogTitle>\n          </DialogHeader>\n          <form onSubmit={handleCreateNewClient} className=\"space-y-4 mt-4\">\n            <div>\n              <Label className=\"text-black font-primary font-medium\">Nombre de la empresa</Label>\n              <Input\n                value={newClientForm.company_name}\n                onChange={(e) => setNewClientForm({ ...newClientForm, company_name: e.target.value })}\n                className=\"bg-white border-gray-300 text-black\"\n                required\n              />\n            </div>\n            <div>\n              <Label className=\"text-black font-primary font-medium\">RUT</Label>\n              <Input\n                value={newClientForm.rut}\n                onChange={(e) => setNewClientForm({ ...newClientForm, rut: e.target.value })}\n                className=\"bg-white border-gray-300 text-black\"\n                placeholder=\"Ej: 12.345.678-9\"\n              />\n            </div>\n            <div>\n              <Label className=\"text-black font-primary font-medium\">Notas</Label>\n              <Textarea\n                value={newClientForm.notes}\n                onChange={(e) => setNewClientForm({ ...newClientForm, notes: e.target.value })}\n                className=\"bg-white border-gray-300 text-black\"\n                rows={3}\n              />\n            </div>\n            <div className=\"flex gap-2\">\n              <Button\n                type=\"submit\"\n                className=\"flex-1 bg-black text-white hover:bg-gray-800 rounded-sm font-bold uppercase tracking-wide font-secondary\"\n              >\n                CREAR CLIENTE\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => {\n                  setShowNewClientModal(false);\n                  setNewClientForm({ company_name: '', rut: '', notes: '' });\n                }}\n                className=\"border-gray-300\"\n              >\n                Cancelar\n              </Button>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}