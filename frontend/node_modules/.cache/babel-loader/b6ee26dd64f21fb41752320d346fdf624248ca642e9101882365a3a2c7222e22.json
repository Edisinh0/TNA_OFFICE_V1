{"ast":null,"code":"var _jsxFileName = \"/Users/eddiecerpa/Downloads/TNAOffice_MariaDB-2/frontend/src/pages/Dashboard.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport apiClient from '../utils/api';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../components/ui/dialog';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../components/ui/select';\nimport { TrendingUp, Calendar as CalendarIcon, Bell, AlertTriangle, FileText, Clock, Plus, Save, X, RefreshCw } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { getUser } from '../utils/auth';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css';\nimport '../styles/calendar-custom.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmoment.locale('es');\nconst localizer = momentLocalizer(moment);\nconst DragAndDropCalendar = withDragAndDrop(Calendar);\n\n// Paleta de colores fijos para cada recurso\n_c = DragAndDropCalendar;\nconst RESOURCE_COLORS = {\n  'Sala Badajoz': '#10b981',\n  // verde esmeralda\n  'Sala Rosario': '#3b82f6',\n  // azul\n  'Sala Gran Apoquindo': '#c084fc',\n  // pÃºrpura\n  'Sala iContel': '#fbbf24',\n  // amarillo/dorado\n  'Caseta 1': '#06b6d4',\n  // cyan\n  'Caseta 2': '#ec4899' // rosa\n};\n\n// Colores de respaldo para recursos nuevos\nconst FALLBACK_COLORS = ['#ef4444',\n// red\n'#14b8a6',\n// teal\n'#f97316',\n// orange\n'#6366f1',\n// indigo\n'#84cc16',\n// lime\n'#a855f7' // violet\n];\nexport const Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const [stats, setStats] = useState(null);\n  const [expiringContracts, setExpiringContracts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const user = getUser();\n\n  // Estado para el valor de la UF\n  const [ufValue, setUfValue] = useState(() => {\n    const saved = localStorage.getItem('ufValue');\n    return saved ? JSON.parse(saved) : {\n      value: 38000,\n      date: null\n    };\n  });\n  const [loadingUF, setLoadingUF] = useState(false);\n\n  // Estados para mÃ©tricas de ventas\n  const [tickets, setTickets] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState(() => {\n    const now = new Date();\n    return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;\n  });\n\n  // Estados para el calendario completo\n  const [bookings, setBookings] = useState([]);\n  const [pendingRequests, setPendingRequests] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [booths, setBooths] = useState([]);\n  const [showBookingModal, setShowBookingModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingBooking, setEditingBooking] = useState(null);\n  const [selectedResources, setSelectedResources] = useState([]); // Filtro de recursos\n  const [bookingForm, setBookingForm] = useState({\n    resource_type: '',\n    resource_id: '',\n    resource_name: '',\n    client_name: '',\n    client_email: '',\n    client_phone: '',\n    start_time: '',\n    end_time: '',\n    notes: '',\n    status: 'pending'\n  });\n\n  // Generar lista de meses disponibles\n  const getAvailableMonths = () => {\n    const months = [];\n    const now = new Date();\n    for (let i = 0; i < 12; i++) {\n      const date = new Date(now.getFullYear(), now.getMonth() - i, 1);\n      const value = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      const label = date.toLocaleDateString('es-CL', {\n        month: 'long',\n        year: 'numeric'\n      });\n      months.push({\n        value,\n        label: label.charAt(0).toUpperCase() + label.slice(1)\n      });\n    }\n    return months;\n  };\n  const availableMonths = getAvailableMonths();\n  useEffect(() => {\n    loadAllData();\n  }, []);\n\n  // FunciÃ³n para obtener el valor de la UF desde mindicadores.cl\n  const fetchUFValue = async () => {\n    setLoadingUF(true);\n    try {\n      const response = await fetch('https://mindicador.cl/api/uf');\n      const data = await response.json();\n      if (data && data.serie && data.serie.length > 0) {\n        const latestUF = data.serie[0];\n        const newUfValue = {\n          value: Math.round(latestUF.valor),\n          date: new Date().toISOString()\n        };\n        setUfValue(newUfValue);\n        localStorage.setItem('ufValue', JSON.stringify(newUfValue));\n        toast.success(`UF actualizada: $${newUfValue.value.toLocaleString('es-CL')}`);\n      }\n    } catch (error) {\n      console.error('Error fetching UF:', error);\n      toast.error('Error al obtener valor de la UF');\n    } finally {\n      setLoadingUF(false);\n    }\n  };\n  const loadAllData = async () => {\n    try {\n      setLoading(true);\n      const [statsRes, contractsRes, ticketsRes, roomsRes, boothsRes, bookingsRes, requestsRes] = await Promise.all([apiClient.get('/dashboard/stats'), apiClient.get('/contracts/expiring-soon'), apiClient.get('/tickets'), apiClient.get('/rooms'), apiClient.get('/booths'), apiClient.get('/bookings'), apiClient.get('/requests')]);\n      setStats(statsRes.data);\n      setExpiringContracts(contractsRes.data);\n      setTickets(ticketsRes.data);\n      setRooms(roomsRes.data);\n      setBooths(boothsRes.data);\n      setBookings(bookingsRes.data);\n      const bookingRequests = requestsRes.data.filter(r => r.request_type === 'booking' && r.status === 'new');\n      setPendingRequests(bookingRequests);\n    } catch (error) {\n      console.error('Error loading data:', error);\n      toast.error('Error al cargar datos');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Calcular mÃ©tricas de ventas\n  const calculateSalesMetrics = () => {\n    const [year, month] = selectedMonth.split('-').map(Number);\n    const selectedMonthIndex = month - 1;\n    const monthSales = tickets.filter(ticket => {\n      const saleDate = new Date(ticket.ticket_date);\n      return saleDate.getMonth() === selectedMonthIndex && saleDate.getFullYear() === year;\n    });\n\n    // Usar || 0 para manejar valores null/undefined y evitar NaN\n    const totalMonth = monthSales.reduce((sum, ticket) => sum + (ticket.total_amount || ticket.total || 0), 0);\n    const pendingSales = tickets.filter(ticket => ticket.payment_status === 'pending');\n    const totalPending = pendingSales.reduce((sum, ticket) => sum + (ticket.total_amount || ticket.total || 0), 0);\n    return {\n      totalMonth,\n      monthSalesCount: monthSales.length,\n      pendingCount: pendingSales.length,\n      totalPending\n    };\n  };\n  const salesMetrics = calculateSalesMetrics();\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP'\n    }).format(amount);\n  };\n\n  // ========== FUNCIONES DEL CALENDARIO ==========\n\n  // Manejar movimiento de evento (drag and drop)\n  const handleEventDrop = async ({\n    event,\n    start,\n    end\n  }) => {\n    const booking = event.resource;\n    if (booking.status === 'blocked') {\n      toast.error('No puedes mover reservas bloqueadas automÃ¡ticamente');\n      return;\n    }\n    try {\n      await apiClient.put(`/bookings/${booking.id}`, {\n        start_time: moment(start).format('YYYY-MM-DDTHH:mm'),\n        end_time: moment(end).format('YYYY-MM-DDTHH:mm')\n      });\n      toast.success('Reserva movida exitosamente');\n      loadAllData();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Error al mover la reserva');\n    }\n  };\n\n  // Manejar redimensionamiento de evento\n  const handleEventResize = async ({\n    event,\n    start,\n    end\n  }) => {\n    const booking = event.resource;\n    if (booking.status === 'blocked') {\n      toast.error('No puedes redimensionar reservas bloqueadas automÃ¡ticamente');\n      return;\n    }\n    try {\n      await apiClient.put(`/bookings/${booking.id}`, {\n        start_time: moment(start).format('YYYY-MM-DDTHH:mm'),\n        end_time: moment(end).format('YYYY-MM-DDTHH:mm')\n      });\n      toast.success('DuraciÃ³n de reserva actualizada');\n      loadAllData();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || 'Error al redimensionar la reserva');\n    }\n  };\n\n  // Manejar selecciÃ³n de rango para crear nueva reserva\n  const handleSelectSlot = slotInfo => {\n    setBookingForm({\n      resource_type: '',\n      resource_id: '',\n      resource_name: '',\n      client_name: '',\n      client_email: '',\n      client_phone: '',\n      start_time: moment(slotInfo.start).format('YYYY-MM-DDTHH:mm'),\n      end_time: moment(slotInfo.end).format('YYYY-MM-DDTHH:mm'),\n      notes: '',\n      status: 'pending'\n    });\n    setShowBookingModal(true);\n  };\n\n  // Crear nueva reserva\n  const handleCreateBooking = async () => {\n    if (!bookingForm.resource_id || !bookingForm.client_name || !bookingForm.client_email) {\n      toast.error('Por favor completa todos los campos requeridos');\n      return;\n    }\n    try {\n      var _find;\n      const resourceName = bookingForm.resource_name || ((_find = [...rooms, ...booths].find(r => r.id === bookingForm.resource_id)) === null || _find === void 0 ? void 0 : _find.name);\n      await apiClient.post('/bookings', {\n        ...bookingForm,\n        resource_name: resourceName\n      });\n      toast.success('Reserva creada exitosamente');\n      setShowBookingModal(false);\n\n      // Resetear formulario\n      setBookingForm({\n        resource_type: '',\n        resource_id: '',\n        resource_name: '',\n        client_name: '',\n        client_email: '',\n        client_phone: '',\n        start_time: '',\n        end_time: '',\n        notes: '',\n        status: 'pending'\n      });\n\n      // Recargar datos inmediatamente\n      await loadAllData();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || 'Error al crear la reserva');\n    }\n  };\n\n  // Toggle filtro de recurso\n  const toggleResourceFilter = resourceId => {\n    setSelectedResources(prev => {\n      if (prev.includes(resourceId)) {\n        return prev.filter(id => id !== resourceId);\n      } else {\n        return [...prev, resourceId];\n      }\n    });\n  };\n\n  // Limpiar filtros\n  const clearResourceFilters = () => {\n    setSelectedResources([]);\n  };\n\n  // Abrir modal de ediciÃ³n\n  const handleEditBooking = booking => {\n    if (booking.status === 'blocked') {\n      toast.error('No puedes editar reservas bloqueadas automÃ¡ticamente');\n      return;\n    }\n    setEditingBooking(booking);\n    setBookingForm({\n      resource_type: booking.resource_type,\n      resource_id: booking.resource_id,\n      resource_name: booking.resource_name,\n      client_name: booking.client_name,\n      client_email: booking.client_email,\n      client_phone: booking.client_phone || '',\n      start_time: moment(booking.start_time).format('YYYY-MM-DDTHH:mm'),\n      end_time: moment(booking.end_time).format('YYYY-MM-DDTHH:mm'),\n      notes: booking.notes || '',\n      status: booking.status\n    });\n    setShowEditModal(true);\n  };\n\n  // Actualizar reserva existente\n  const handleUpdateBooking = async () => {\n    if (!bookingForm.resource_id || !bookingForm.client_name || !bookingForm.client_email) {\n      toast.error('Por favor completa todos los campos requeridos');\n      return;\n    }\n    try {\n      if (bookingForm.resource_id !== editingBooking.resource_id) {\n        await apiClient.put(`/bookings/${editingBooking.id}`, {\n          status: 'cancelled'\n        });\n        await apiClient.post('/bookings', {\n          resource_type: bookingForm.resource_type,\n          resource_id: bookingForm.resource_id,\n          resource_name: bookingForm.resource_name,\n          client_name: bookingForm.client_name,\n          client_email: bookingForm.client_email,\n          client_phone: bookingForm.client_phone,\n          start_time: bookingForm.start_time,\n          end_time: bookingForm.end_time,\n          notes: bookingForm.notes,\n          status: bookingForm.status\n        });\n        toast.success('Reserva actualizada con nuevo recurso');\n      } else {\n        await apiClient.put(`/bookings/${editingBooking.id}`, {\n          start_time: bookingForm.start_time,\n          end_time: bookingForm.end_time,\n          client_name: bookingForm.client_name,\n          client_email: bookingForm.client_email,\n          client_phone: bookingForm.client_phone,\n          notes: bookingForm.notes,\n          status: bookingForm.status\n        });\n        toast.success('Reserva actualizada exitosamente');\n      }\n      setShowEditModal(false);\n      setEditingBooking(null);\n      loadAllData();\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      toast.error(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.detail) || 'Error al actualizar la reserva');\n    }\n  };\n\n  // Cancelar reserva\n  const handleDeleteBooking = async () => {\n    if (!window.confirm('Â¿EstÃ¡s seguro de que quieres cancelar esta reserva?')) {\n      return;\n    }\n    try {\n      await apiClient.put(`/bookings/${editingBooking.id}`, {\n        status: 'cancelled'\n      });\n      toast.success('Reserva cancelada exitosamente');\n      setShowEditModal(false);\n      setEditingBooking(null);\n      loadAllData();\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      toast.error(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.detail) || 'Error al cancelar la reserva');\n    }\n  };\n\n  // Mapa de colores de recursos\n  const resourceColorMap = useMemo(() => {\n    const allResources = [...rooms.map(r => ({\n      id: r.id,\n      name: r.name,\n      type: 'room'\n    })), ...booths.map(b => ({\n      id: b.id,\n      name: b.name,\n      type: 'booth'\n    }))];\n    const colorMap = {};\n    let fallbackIndex = 0;\n    allResources.forEach(resource => {\n      // Usar color fijo si existe, sino usar color de respaldo\n      let color = RESOURCE_COLORS[resource.name];\n      if (!color) {\n        color = FALLBACK_COLORS[fallbackIndex % FALLBACK_COLORS.length];\n        fallbackIndex++;\n      }\n      colorMap[resource.id] = {\n        name: resource.name,\n        type: resource.type,\n        color: color\n      };\n    });\n    return colorMap;\n  }, [rooms, booths]);\n\n  // Convertir reservas a eventos del calendario (con filtro)\n  const calendarEvents = useMemo(() => {\n    // Aplicar filtro de recursos si hay alguno seleccionado\n    const filteredBookings = selectedResources.length > 0 ? bookings.filter(b => selectedResources.includes(b.resource_id)) : bookings;\n    const bookingEvents = filteredBookings.filter(booking => booking.status !== 'cancelled').map(booking => {\n      const resourceInfo = resourceColorMap[booking.resource_id] || {\n        name: booking.resource_name,\n        color: '#6b7280'\n      };\n      const statusIcon = {\n        'confirmed': 'âœ“',\n        'pending': 'â±',\n        'blocked': 'ðŸ”’'\n      }[booking.status] || '';\n      return {\n        id: booking.id,\n        title: `${statusIcon} ${resourceInfo.name} - ${booking.client_name}`,\n        start: new Date(booking.start_time),\n        end: new Date(booking.end_time),\n        resource: booking,\n        resourceInfo: resourceInfo,\n        isRequest: false\n      };\n    });\n\n    // Aplicar filtro a solicitudes tambiÃ©n\n    const filteredRequests = selectedResources.length > 0 ? pendingRequests.filter(r => {\n      var _r$details;\n      return ((_r$details = r.details) === null || _r$details === void 0 ? void 0 : _r$details.resource_id) && selectedResources.includes(r.details.resource_id);\n    }) : pendingRequests;\n    const requestEvents = filteredRequests.filter(req => {\n      var _req$details, _req$details2;\n      return ((_req$details = req.details) === null || _req$details === void 0 ? void 0 : _req$details.start_time) && ((_req$details2 = req.details) === null || _req$details2 === void 0 ? void 0 : _req$details2.end_time);\n    }).map(request => {\n      const resourceInfo = resourceColorMap[request.details.resource_id] || {\n        name: request.details.resource_name || 'Recurso',\n        color: '#6b7280'\n      };\n      return {\n        id: `request-${request.id}`,\n        title: `ðŸ“‹ SOLICITUD: ${resourceInfo.name} - ${request.client_name}`,\n        start: new Date(request.details.start_time),\n        end: new Date(request.details.end_time),\n        resource: {\n          ...request,\n          resource_id: request.details.resource_id,\n          resource_name: request.details.resource_name,\n          resource_type: request.details.resource_type,\n          status: 'request'\n        },\n        resourceInfo: resourceInfo,\n        isRequest: true\n      };\n    });\n    return [...bookingEvents, ...requestEvents];\n  }, [bookings, pendingRequests, resourceColorMap, selectedResources]);\n\n  // Estilos de eventos del calendario (usa colores de la leyenda)\n  const eventPropGetter = event => {\n    const booking = event.resource;\n    const status = booking.status;\n    const isRequest = event.isRequest;\n\n    // Obtener color del recurso desde el mapa de colores\n    const resourceData = resourceColorMap[booking.resource_id];\n    const color = resourceData ? resourceData.color : '#6b7280';\n\n    // Generar clase CSS basada en el nombre del recurso\n    let className = '';\n    const resourceName = booking.resource_name || '';\n    if (resourceName.includes('Gran Apoquindo')) {\n      className = 'sala-gran-apoquindo';\n    } else if (resourceName.includes('iContel')) {\n      className = 'sala-icontel';\n    } else if (resourceName.includes('Badajoz')) {\n      className = 'sala-badajoz';\n    } else if (resourceName.includes('Rosario')) {\n      className = 'sala-rosario';\n    } else if (resourceName.includes('Caseta 1')) {\n      className = 'caseta-1';\n    } else if (resourceName.includes('Caseta 2')) {\n      className = 'caseta-2';\n    }\n\n    // Estilo especial para solicitudes pendientes de aprobaciÃ³n\n    if (isRequest) {\n      return {\n        className: 'solicitud-pendiente',\n        style: {\n          backgroundColor: '#ff8a00',\n          border: '3px dashed #ff6600',\n          borderRadius: '6px',\n          opacity: 0.85,\n          color: 'white',\n          fontSize: '11px',\n          fontWeight: '700',\n          padding: '4px 6px',\n          boxShadow: '0 2px 8px rgba(255, 138, 0, 0.4)',\n          cursor: 'pointer',\n          textShadow: '0 1px 2px rgba(0,0,0,0.3)'\n        }\n      };\n    }\n\n    // Estilos base con el color del recurso\n    let style = {\n      backgroundColor: color,\n      border: `4px solid ${color}`,\n      borderRadius: '6px',\n      opacity: 1,\n      color: 'white',\n      fontSize: '11px',\n      fontWeight: '700',\n      padding: '4px 6px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n      cursor: 'pointer',\n      textShadow: '0 1px 2px rgba(0,0,0,0.3)'\n    };\n\n    // Variaciones segÃºn el estado\n    switch (status) {\n      case 'confirmed':\n        style.fontWeight = '700';\n        break;\n      case 'pending':\n        style.opacity = 0.85;\n        style.border = `3px dashed ${color}`;\n        style.boxShadow = 'none';\n        style.fontWeight = '600';\n        break;\n      case 'blocked':\n        const r = parseInt(color.slice(1, 3), 16);\n        const g = parseInt(color.slice(3, 5), 16);\n        const b = parseInt(color.slice(5, 7), 16);\n        style.backgroundColor = `rgba(${r}, ${g}, ${b}, 0.4)`;\n        style.opacity = 0.7;\n        style.border = `2px dotted ${color}`;\n        style.boxShadow = 'none';\n        style.cursor = 'not-allowed';\n        style.fontWeight = '600';\n        break;\n      default:\n        break;\n    }\n    return {\n      className: className,\n      style: style\n    };\n  };\n\n  // Leyenda de colores\n  const legend = useMemo(() => {\n    return Object.entries(resourceColorMap).map(([id, info]) => ({\n      id,\n      name: info.name,\n      type: info.type,\n      color: info.color\n    }));\n  }, [resourceColorMap]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-[400px]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 font-primary\",\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    \"data-testid\": \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-secondary text-4xl md:text-5xl font-black uppercase text-black tracking-tight\",\n          children: \"DASHBOARD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-1 w-32 tna-gradient mt-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-sm border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[10px] text-gray-500 font-primary uppercase\",\n              children: \"Valor UF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-bold text-gray-800 font-primary\",\n              children: [\"$\", ufValue.value.toLocaleString('es-CL')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchUFValue,\n            disabled: loadingUF,\n            className: \"p-1.5 hover:bg-gray-200 rounded transition-colors disabled:opacity-50\",\n            title: \"Actualizar valor UF\",\n            children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: `w-4 h-4 text-gray-600 ${loadingUF ? 'animate-spin' : ''}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 11\n        }, this), (user === null || user === void 0 ? void 0 : user.role) !== 'comisionista' && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/tickets?newSale=true'),\n          className: \"bg-gradient-to-r from-[#FF8A00] to-[#FF3D3D] hover:from-[#FF9A20] hover:to-[#FF5D5D] text-white rounded-sm font-bold uppercase tracking-wide font-secondary shadow-lg hover:shadow-xl transition-all duration-300\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 15\n          }, this), \"Nueva Venta\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 611,\n      columnNumber: 7\n    }, this), expiringContracts.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n      className: \"bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-300 rounded-sm shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        className: \"border-b border-orange-200 bg-gradient-to-r from-orange-100/50 to-red-100/50 py-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"font-secondary uppercase text-orange-800 flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2 bg-orange-500 rounded-full animate-pulse\",\n              children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                className: \"w-4 h-4 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-base\",\n                children: \"Contratos Pr\\xF3ximos a Vencer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 px-2 py-0.5 bg-orange-500 text-white text-xs rounded-full font-primary\",\n                children: expiringContracts.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/clients'),\n            className: \"px-3 py-1.5 bg-orange-500 hover:bg-orange-600 text-white rounded-sm text-xs font-primary font-medium transition-colors\",\n            children: \"Ver clientes \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divide-y divide-orange-100 max-h-[200px] overflow-y-auto\",\n          children: expiringContracts.map((contract, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center justify-between px-4 py-3 cursor-pointer transition-all ${contract.status === 'expired' ? 'bg-red-50 hover:bg-red-100' : contract.status === 'critical' ? 'bg-orange-50 hover:bg-orange-100' : 'hover:bg-yellow-50'}`,\n            onClick: () => navigate('/clients'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-2 rounded-lg ${contract.status === 'expired' ? 'bg-red-500' : contract.status === 'critical' ? 'bg-orange-500' : 'bg-yellow-500'}`,\n                children: /*#__PURE__*/_jsxDEV(FileText, {\n                  className: \"w-4 h-4 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 688,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-bold text-gray-900 font-primary\",\n                  children: contract.client_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 font-primary truncate max-w-[250px]\",\n                  children: contract.document_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `inline-flex items-center gap-1 px-2 py-1 rounded-full font-primary font-bold text-xs ${contract.status === 'expired' ? 'bg-red-500 text-white' : contract.status === 'critical' ? 'bg-orange-500 text-white' : 'bg-yellow-400 text-yellow-900'}`,\n                children: [contract.status === 'expired' && /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 700,\n                  columnNumber: 57\n                }, this), contract.days_remaining < 0 ? `Vencido hace ${Math.abs(contract.days_remaining)} dÃ­as` : contract.days_remaining === 0 ? 'Â¡Vence hoy!' : `${contract.days_remaining} dÃ­as`]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"bg-white border-gray-200 rounded-sm hover:border-[#FF8A00] transition-all duration-300 cursor-pointer group\",\n        onClick: () => navigate('/requests'),\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"flex flex-row items-center justify-between pb-2 border-b border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-secondary uppercase text-gray-600\",\n            children: \"Solicitudes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Bell, {\n              className: `w-5 h-5 transition-colors ${(stats === null || stats === void 0 ? void 0 : stats.new_requests) > 0 ? 'text-[#FF8A00] animate-pulse' : 'text-gray-400'}`,\n              strokeWidth: 1.5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 15\n            }, this), (stats === null || stats === void 0 ? void 0 : stats.new_requests) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute -top-1 -right-1 w-3 h-3 bg-[#FF8A00] rounded-full border-2 border-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl font-bold text-black font-primary group-hover:text-[#FF8A00] transition-colors\",\n            \"data-testid\": \"new-requests\",\n            children: (stats === null || stats === void 0 ? void 0 : stats.new_requests) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1 font-primary\",\n            children: (stats === null || stats === void 0 ? void 0 : stats.new_requests) > 0 ? 'Nuevas - Click para revisar' : 'Nuevas'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"bg-white border-gray-200 rounded-sm\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 font-primary uppercase\",\n              children: \"Ventas del Mes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedMonth,\n              onChange: e => setSelectedMonth(e.target.value),\n              className: \"text-xs bg-gray-100 border-0 rounded px-2 py-1 font-primary text-gray-600 cursor-pointer hover:bg-gray-200 transition-colors\",\n              children: availableMonths.map(month => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: month.value,\n                children: month.label\n              }, month.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-black font-secondary\",\n                \"data-testid\": \"total-sales\",\n                children: formatCurrency(salesMetrics.totalMonth)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-400 font-primary\",\n                children: [salesMetrics.monthSalesCount, \" ventas\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 763,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-green-100 rounded-sm flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n                className: \"w-6 h-6 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md hover:border-amber-400\",\n        onClick: () => navigate('/tickets'),\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 font-primary uppercase\",\n                children: \"Pendientes de Pago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 779,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-black font-secondary\",\n                children: formatCurrency(salesMetrics.totalPending)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 780,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-400 font-primary\",\n                children: [salesMetrics.pendingCount, \" ventas \\u2022 Click para ver\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 781,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 778,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-amber-100 rounded-sm flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Clock, {\n                className: \"w-6 h-6 text-amber-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 784,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 777,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"bg-white border-gray-200 rounded-sm\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        className: \"border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n          className: \"font-secondary uppercase text-black\",\n          children: \"Ventas por Categor\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"pt-6\",\n        children: stats !== null && stats !== void 0 && stats.sales_by_category && Object.keys(stats.sales_by_category).length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n          children: Object.entries(stats.sales_by_category).map(([category, amount]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 font-primary\",\n                children: category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 802,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-black font-semibold font-primary\",\n                children: formatCurrency(amount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 803,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-2 bg-gray-100 rounded-full overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-full tna-gradient\",\n                style: {\n                  width: `${amount / stats.total_sales * 100}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 806,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 805,\n              columnNumber: 19\n            }, this)]\n          }, category, true, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-center py-8 font-primary\",\n          children: \"No hay datos disponibles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 792,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"bg-white border-gray-200 rounded-sm shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        className: \"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(CalendarIcon, {\n                className: \"w-5 h-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"font-secondary uppercase text-xl text-gray-900\",\n                children: \"CALENDARIO GENERAL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-600 font-primary mt-1\",\n                children: \"Todas las reservas de salas y casetas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 828,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: () => navigate('/all-bookings'),\n            className: \"text-xs\",\n            children: \"Abrir en pantalla completa \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 822,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 bg-gray-50 p-3 rounded-lg border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-secondary uppercase text-xs font-bold text-gray-700\",\n              children: [\"Filtrar por Recurso: \", selectedResources.length > 0 && `(${selectedResources.length} seleccionados)`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 15\n            }, this), selectedResources.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearResourceFilters,\n              className: \"text-xs text-blue-600 hover:text-blue-800 font-primary underline\",\n              children: \"Limpiar filtros\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 851,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2\",\n            children: legend.map(item => {\n              const isSelected = selectedResources.includes(item.id);\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleResourceFilter(item.id),\n                className: `flex items-center gap-1 px-2 py-1 rounded border transition-all cursor-pointer ${isSelected ? 'bg-blue-100 border-blue-400 ring-2 ring-blue-300' : selectedResources.length > 0 ? 'bg-gray-100 border-gray-200 opacity-50 hover:opacity-100' : 'bg-white border-gray-200 hover:border-gray-400'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 rounded\",\n                  style: {\n                    backgroundColor: item.color\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-xs font-primary ${isSelected ? 'text-blue-800 font-semibold' : 'text-gray-700'}`,\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 883,\n                  columnNumber: 21\n                }, this), isSelected && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 ml-1\",\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 887,\n                  columnNumber: 23\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 864,\n            columnNumber: 13\n          }, this), selectedResources.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-2 font-primary\",\n            children: \"\\uD83D\\uDCA1 Click en los recursos para agregar/quitar del filtro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 p-3 rounded-lg border border-green-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-green-600 font-primary\",\n              children: bookings.filter(b => b.status === 'confirmed').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-green-700 font-secondary uppercase\",\n              children: \"Confirmadas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 906,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-yellow-50 p-3 rounded-lg border border-yellow-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-yellow-600 font-primary\",\n              children: bookings.filter(b => b.status === 'pending').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-yellow-700 font-secondary uppercase\",\n              children: \"Pendientes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 908,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-orange-50 p-3 rounded-lg border border-orange-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-orange-600 font-primary\",\n              children: pendingRequests.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 915,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-orange-700 font-secondary uppercase\",\n              children: \"Por Aprobar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-3 rounded-lg border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-gray-600 font-primary\",\n              children: bookings.filter(b => b.status === 'blocked').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-700 font-secondary uppercase\",\n              children: \"Bloqueadas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 924,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 920,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 p-3 rounded-lg border border-blue-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-blue-600 font-primary\",\n              children: rooms.length + booths.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 927,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-blue-700 font-secondary uppercase\",\n              children: \"Recursos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 926,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: '550px'\n          },\n          children: /*#__PURE__*/_jsxDEV(DragAndDropCalendar, {\n            localizer: localizer,\n            events: calendarEvents,\n            startAccessor: \"start\",\n            endAccessor: \"end\",\n            style: {\n              height: '100%'\n            },\n            eventPropGetter: eventPropGetter,\n            views: ['month', 'week', 'day', 'agenda'],\n            defaultView: \"week\",\n            min: new Date(2024, 0, 1, 8, 0, 0),\n            max: new Date(2024, 0, 1, 19, 0, 0),\n            draggableAccessor: event => event.resource.status !== 'blocked',\n            resizable: true,\n            onEventDrop: handleEventDrop,\n            onEventResize: handleEventResize,\n            onSelectSlot: handleSelectSlot,\n            selectable: true,\n            messages: {\n              next: \"Siguiente\",\n              previous: \"Anterior\",\n              today: \"Hoy\",\n              month: \"Mes\",\n              week: \"Semana\",\n              day: \"DÃ­a\",\n              agenda: \"Agenda\",\n              date: \"Fecha\",\n              time: \"Hora\",\n              event: \"Evento\",\n              allDay: \"Todo el dÃ­a\",\n              noEventsInRange: \"Sin reservas en este rango\",\n              showMore: total => `+${total} mÃ¡s`\n            },\n            onSelectEvent: event => {\n              if (event.isRequest) {\n                toast.info('Redirigiendo a solicitudes para aprobar/rechazar...', {\n                  duration: 2000\n                });\n                navigate('/requests');\n              } else {\n                handleEditBooking(event.resource);\n              }\n            },\n            popup: true\n          }, `calendar-${bookings.length}-${rooms.length}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-4 text-sm font-primary bg-blue-50 p-3 rounded-lg border border-blue-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 bg-green-500 rounded border-4 border-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 985,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-700 font-semibold\",\n                children: \"\\u2713 Confirmada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 986,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 984,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 bg-yellow-500 rounded border-2 border-dashed border-yellow-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 989,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-700 font-semibold\",\n                children: \"\\u23F1 Pendiente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 bg-orange-500 rounded border-2 border-dashed border-orange-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 993,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-700 font-semibold\",\n                children: \"\\uD83D\\uDCCB Solicitud por Aprobar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 994,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 992,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 bg-gray-400 opacity-50 rounded border-2 border-dotted border-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 997,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-700 font-semibold\",\n                children: \"\\uD83D\\uDD12 Bloqueada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 998,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 996,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 983,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-primary bg-orange-50 p-3 rounded-lg border border-orange-200 text-gray-700\",\n            children: [\"\\uD83D\\uDCA1 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"Gu\\xEDa r\\xE1pida:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1002,\n              columnNumber: 18\n            }, this), \"Click en evento para editar \\u2022 Arrastra para mover \\u2022 Redimensiona desde esquinas \\u2022 Selecciona rango para crear nueva\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1001,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 982,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 848,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 821,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showBookingModal,\n      onOpenChange: setShowBookingModal,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"bg-white max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: /*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"font-secondary uppercase text-xl\",\n            children: \"Nueva Reserva\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1013,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1012,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold\",\n              children: \"Tipo de Recurso *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1020,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: bookingForm.resource_type,\n              onValueChange: value => {\n                setBookingForm({\n                  ...bookingForm,\n                  resource_type: value,\n                  resource_id: ''\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Selecciona tipo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1028,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1027,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"room\",\n                  children: \"Sala\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1031,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"booth\",\n                  children: \"Caseta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1030,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1021,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1019,\n            columnNumber: 13\n          }, this), bookingForm.resource_type && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold\",\n              children: [bookingForm.resource_type === 'room' ? 'Sala' : 'Caseta', \" *\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: bookingForm.resource_id,\n              onValueChange: value => {\n                const resource = (bookingForm.resource_type === 'room' ? rooms : booths).find(r => r.id === value);\n                setBookingForm({\n                  ...bookingForm,\n                  resource_id: value,\n                  resource_name: (resource === null || resource === void 0 ? void 0 : resource.name) || ''\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Selecciona recurso\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1055,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: (bookingForm.resource_type === 'room' ? rooms : booths).map(resource => /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: resource.id,\n                  children: [resource.name, \" (\", resource.capacity, \" personas)\"]\n                }, resource.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1059,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1042,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1038,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold\",\n              children: \"Nombre del Cliente *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1069,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: bookingForm.client_name,\n              onChange: e => setBookingForm({\n                ...bookingForm,\n                client_name: e.target.value\n              }),\n              placeholder: \"Ej: Juan P\\xE9rez\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1070,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1068,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold\",\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"email\",\n              value: bookingForm.client_email,\n              onChange: e => setBookingForm({\n                ...bookingForm,\n                client_email: e.target.value\n              }),\n              placeholder: \"ejemplo@email.com\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold\",\n              children: \"Tel\\xE9fono\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1088,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: bookingForm.client_phone,\n              onChange: e => setBookingForm({\n                ...bookingForm,\n                client_phone: e.target.value\n              }),\n              placeholder: \"+56 9 XXXX XXXX\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1089,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1087,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"font-primary text-sm font-semibold\",\n                children: \"Inicio *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1098,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"datetime-local\",\n                value: bookingForm.start_time,\n                onChange: e => setBookingForm({\n                  ...bookingForm,\n                  start_time: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1099,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"font-primary text-sm font-semibold\",\n                children: \"Fin *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"datetime-local\",\n                value: bookingForm.end_time,\n                onChange: e => setBookingForm({\n                  ...bookingForm,\n                  end_time: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1107,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold\",\n              children: \"Notas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: bookingForm.notes,\n              onChange: e => setBookingForm({\n                ...bookingForm,\n                notes: e.target.value\n              }),\n              placeholder: \"Informaci\\xF3n adicional (opcional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleCreateBooking,\n              className: \"flex-1 bg-green-600 hover:bg-green-700 text-white font-secondary uppercase\",\n              children: [/*#__PURE__*/_jsxDEV(Save, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1129,\n                columnNumber: 17\n              }, this), \"Crear Reserva\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowBookingModal(false),\n              variant: \"outline\",\n              className: \"font-secondary uppercase\",\n              children: [/*#__PURE__*/_jsxDEV(X, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1137,\n                columnNumber: 17\n              }, this), \"Cancelar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1132,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1018,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1011,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1010,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showEditModal,\n      onOpenChange: setShowEditModal,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"bg-white max-w-2xl max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: /*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"font-secondary uppercase text-2xl text-gray-900 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Save, {\n                className: \"w-5 h-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1151,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1150,\n              columnNumber: 15\n            }, this), \"Editar Reserva\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1148,\n          columnNumber: 11\n        }, this), editingBooking && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold text-gray-700\",\n              children: \"Tipo de Recurso *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: bookingForm.resource_type,\n              onValueChange: value => {\n                setBookingForm({\n                  ...bookingForm,\n                  resource_type: value,\n                  resource_id: '',\n                  resource_name: ''\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                className: \"mt-1\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Selecciona tipo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"room\",\n                  children: \"\\uD83C\\uDFE2 Sala\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"booth\",\n                  children: \"\\uD83D\\uDCDE Caseta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1172,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1170,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1161,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1159,\n            columnNumber: 15\n          }, this), bookingForm.resource_type && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold text-gray-700\",\n              children: [bookingForm.resource_type === 'room' ? 'ðŸ¢ Sala' : 'ðŸ“ž Caseta', \" *\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1179,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: bookingForm.resource_id,\n              onValueChange: value => {\n                const resource = (bookingForm.resource_type === 'room' ? rooms : booths).find(r => r.id === value);\n                setBookingForm({\n                  ...bookingForm,\n                  resource_id: value,\n                  resource_name: (resource === null || resource === void 0 ? void 0 : resource.name) || ''\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                className: \"mt-1\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Selecciona recurso\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1195,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1194,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: (bookingForm.resource_type === 'room' ? rooms : booths).map(resource => /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: resource.id,\n                  children: [resource.name, \" (\", resource.capacity, \" personas)\"]\n                }, resource.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1199,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1197,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1182,\n              columnNumber: 19\n            }, this), bookingForm.resource_id !== editingBooking.resource_id && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-orange-600 mt-1 font-primary\",\n              children: \"\\u26A0\\uFE0F Al cambiar el recurso se cancelar\\xE1 la reserva actual y se crear\\xE1 una nueva\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1206,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1178,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold text-gray-700\",\n              children: \"Estado de la Reserva *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: bookingForm.status,\n              onValueChange: value => setBookingForm({\n                ...bookingForm,\n                status: value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                className: \"mt-1\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1220,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"pending\",\n                  children: \"\\u23F1 Pendiente de Confirmaci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"confirmed\",\n                  children: \"\\u2713 Confirmada\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"cancelled\",\n                  children: \"\\u2717 Cancelada\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1222,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1215,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1213,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200 my-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1230,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 p-4 rounded-lg border border-blue-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-secondary uppercase text-sm font-bold text-blue-900 mb-3\",\n              children: \"Datos del Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1233,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  className: \"font-primary text-xs font-semibold text-gray-600\",\n                  children: \"Nombre *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  value: bookingForm.client_name,\n                  onChange: e => setBookingForm({\n                    ...bookingForm,\n                    client_name: e.target.value\n                  }),\n                  placeholder: \"Ej: Juan P\\xE9rez\",\n                  className: \"mt-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1239,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1237,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"font-primary text-xs font-semibold text-gray-600\",\n                    children: \"Email *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1249,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"email\",\n                    value: bookingForm.client_email,\n                    onChange: e => setBookingForm({\n                      ...bookingForm,\n                      client_email: e.target.value\n                    }),\n                    placeholder: \"ejemplo@email.com\",\n                    className: \"mt-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1250,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1248,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"font-primary text-xs font-semibold text-gray-600\",\n                    children: \"Tel\\xE9fono\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1260,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    value: bookingForm.client_phone,\n                    onChange: e => setBookingForm({\n                      ...bookingForm,\n                      client_phone: e.target.value\n                    }),\n                    placeholder: \"+56 9 XXXX XXXX\",\n                    className: \"mt-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1261,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1259,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1247,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1236,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 p-4 rounded-lg border border-green-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-secondary uppercase text-sm font-bold text-green-900 mb-3\",\n              children: \"Fechas y Horarios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  className: \"font-primary text-xs font-semibold text-gray-600\",\n                  children: \"Inicio *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1278,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"datetime-local\",\n                  value: bookingForm.start_time,\n                  onChange: e => setBookingForm({\n                    ...bookingForm,\n                    start_time: e.target.value\n                  }),\n                  className: \"mt-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1279,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1277,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  className: \"font-primary text-xs font-semibold text-gray-600\",\n                  children: \"Fin *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"datetime-local\",\n                  value: bookingForm.end_time,\n                  onChange: e => setBookingForm({\n                    ...bookingForm,\n                    end_time: e.target.value\n                  }),\n                  className: \"mt-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1288,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1286,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              className: \"font-primary text-sm font-semibold text-gray-700\",\n              children: \"Notas adicionales\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1299,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: bookingForm.notes,\n              onChange: e => setBookingForm({\n                ...bookingForm,\n                notes: e.target.value\n              }),\n              placeholder: \"Informaci\\xF3n adicional (opcional)\",\n              className: \"mt-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1300,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200 my-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleUpdateBooking,\n              className: \"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-secondary uppercase py-6 shadow-lg\",\n              children: [/*#__PURE__*/_jsxDEV(Save, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1315,\n                columnNumber: 19\n              }, this), \"Guardar Cambios\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1311,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleDeleteBooking,\n              variant: \"destructive\",\n              className: \"px-6 font-secondary uppercase\",\n              children: \"Cancelar Reserva\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1318,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1310,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setShowEditModal(false),\n            variant: \"outline\",\n            className: \"w-full font-secondary uppercase\",\n            children: [/*#__PURE__*/_jsxDEV(X, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1331,\n              columnNumber: 17\n            }, this), \"Cerrar sin Guardar\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1158,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 609,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"zUGifWxnc45T6ssH8ZuFExZ/ois=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Dashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"DragAndDropCalendar\");\n$RefreshReg$(_c2, \"Dashboard\");","map":{"version":3,"names":["useState","useEffect","useMemo","useNavigate","apiClient","Card","CardContent","CardHeader","CardTitle","Button","Dialog","DialogContent","DialogHeader","DialogTitle","Input","Label","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","TrendingUp","Calendar","CalendarIcon","Bell","AlertTriangle","FileText","Clock","Plus","Save","X","RefreshCw","toast","getUser","momentLocalizer","withDragAndDrop","moment","jsxDEV","_jsxDEV","locale","localizer","DragAndDropCalendar","_c","RESOURCE_COLORS","FALLBACK_COLORS","Dashboard","_s","navigate","stats","setStats","expiringContracts","setExpiringContracts","loading","setLoading","user","ufValue","setUfValue","saved","localStorage","getItem","JSON","parse","value","date","loadingUF","setLoadingUF","tickets","setTickets","selectedMonth","setSelectedMonth","now","Date","getFullYear","String","getMonth","padStart","bookings","setBookings","pendingRequests","setPendingRequests","rooms","setRooms","booths","setBooths","showBookingModal","setShowBookingModal","showEditModal","setShowEditModal","editingBooking","setEditingBooking","selectedResources","setSelectedResources","bookingForm","setBookingForm","resource_type","resource_id","resource_name","client_name","client_email","client_phone","start_time","end_time","notes","status","getAvailableMonths","months","i","label","toLocaleDateString","month","year","push","charAt","toUpperCase","slice","availableMonths","loadAllData","fetchUFValue","response","fetch","data","json","serie","length","latestUF","newUfValue","Math","round","valor","toISOString","setItem","stringify","success","toLocaleString","error","console","statsRes","contractsRes","ticketsRes","roomsRes","boothsRes","bookingsRes","requestsRes","Promise","all","get","bookingRequests","filter","r","request_type","calculateSalesMetrics","split","map","Number","selectedMonthIndex","monthSales","ticket","saleDate","ticket_date","totalMonth","reduce","sum","total_amount","total","pendingSales","payment_status","totalPending","monthSalesCount","pendingCount","salesMetrics","formatCurrency","amount","Intl","NumberFormat","style","currency","format","handleEventDrop","event","start","end","booking","resource","put","id","_error$response","_error$response$data","detail","handleEventResize","_error$response2","_error$response2$data","handleSelectSlot","slotInfo","handleCreateBooking","_find","resourceName","find","name","post","_error$response3","_error$response3$data","toggleResourceFilter","resourceId","prev","includes","clearResourceFilters","handleEditBooking","handleUpdateBooking","_error$response4","_error$response4$data","handleDeleteBooking","window","confirm","_error$response5","_error$response5$data","resourceColorMap","allResources","type","b","colorMap","fallbackIndex","forEach","color","calendarEvents","filteredBookings","bookingEvents","resourceInfo","statusIcon","title","isRequest","filteredRequests","_r$details","details","requestEvents","req","_req$details","_req$details2","request","eventPropGetter","resourceData","className","backgroundColor","border","borderRadius","opacity","fontSize","fontWeight","padding","boxShadow","cursor","textShadow","parseInt","g","legend","Object","entries","info","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","role","contract","index","document_name","days_remaining","abs","new_requests","strokeWidth","onChange","e","target","sales_by_category","keys","category","width","total_sales","variant","size","item","isSelected","height","events","startAccessor","endAccessor","views","defaultView","min","max","draggableAccessor","resizable","onEventDrop","onEventResize","onSelectSlot","selectable","messages","next","previous","today","week","day","agenda","time","allDay","noEventsInRange","showMore","onSelectEvent","duration","popup","open","onOpenChange","onValueChange","placeholder","capacity","_c2","$RefreshReg$"],"sources":["/Users/eddiecerpa/Downloads/TNAOffice_MariaDB-2/frontend/src/pages/Dashboard.js"],"sourcesContent":["import { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport apiClient from '../utils/api';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../components/ui/dialog';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../components/ui/select';\nimport { TrendingUp, Calendar as CalendarIcon, Bell, AlertTriangle, FileText, Clock, Plus, Save, X, RefreshCw } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { getUser } from '../utils/auth';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css';\nimport '../styles/calendar-custom.css';\n\nmoment.locale('es');\nconst localizer = momentLocalizer(moment);\nconst DragAndDropCalendar = withDragAndDrop(Calendar);\n\n// Paleta de colores fijos para cada recurso\nconst RESOURCE_COLORS = {\n  'Sala Badajoz': '#10b981',      // verde esmeralda\n  'Sala Rosario': '#3b82f6',      // azul\n  'Sala Gran Apoquindo': '#c084fc', // pÃºrpura\n  'Sala iContel': '#fbbf24',      // amarillo/dorado\n  'Caseta 1': '#06b6d4',          // cyan\n  'Caseta 2': '#ec4899',          // rosa\n};\n\n// Colores de respaldo para recursos nuevos\nconst FALLBACK_COLORS = [\n  '#ef4444', // red\n  '#14b8a6', // teal\n  '#f97316', // orange\n  '#6366f1', // indigo\n  '#84cc16', // lime\n  '#a855f7', // violet\n];\n\nexport const Dashboard = () => {\n  const navigate = useNavigate();\n  const [stats, setStats] = useState(null);\n  const [expiringContracts, setExpiringContracts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const user = getUser();\n  \n  // Estado para el valor de la UF\n  const [ufValue, setUfValue] = useState(() => {\n    const saved = localStorage.getItem('ufValue');\n    return saved ? JSON.parse(saved) : { value: 38000, date: null };\n  });\n  const [loadingUF, setLoadingUF] = useState(false);\n  \n  // Estados para mÃ©tricas de ventas\n  const [tickets, setTickets] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState(() => {\n    const now = new Date();\n    return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;\n  });\n\n  // Estados para el calendario completo\n  const [bookings, setBookings] = useState([]);\n  const [pendingRequests, setPendingRequests] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [booths, setBooths] = useState([]);\n  const [showBookingModal, setShowBookingModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingBooking, setEditingBooking] = useState(null);\n  const [selectedResources, setSelectedResources] = useState([]); // Filtro de recursos\n  const [bookingForm, setBookingForm] = useState({\n    resource_type: '',\n    resource_id: '',\n    resource_name: '',\n    client_name: '',\n    client_email: '',\n    client_phone: '',\n    start_time: '',\n    end_time: '',\n    notes: '',\n    status: 'pending'\n  });\n\n  // Generar lista de meses disponibles\n  const getAvailableMonths = () => {\n    const months = [];\n    const now = new Date();\n    for (let i = 0; i < 12; i++) {\n      const date = new Date(now.getFullYear(), now.getMonth() - i, 1);\n      const value = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      const label = date.toLocaleDateString('es-CL', { month: 'long', year: 'numeric' });\n      months.push({ value, label: label.charAt(0).toUpperCase() + label.slice(1) });\n    }\n    return months;\n  };\n\n  const availableMonths = getAvailableMonths();\n\n  useEffect(() => {\n    loadAllData();\n  }, []);\n\n  // FunciÃ³n para obtener el valor de la UF desde mindicadores.cl\n  const fetchUFValue = async () => {\n    setLoadingUF(true);\n    try {\n      const response = await fetch('https://mindicador.cl/api/uf');\n      const data = await response.json();\n      if (data && data.serie && data.serie.length > 0) {\n        const latestUF = data.serie[0];\n        const newUfValue = {\n          value: Math.round(latestUF.valor),\n          date: new Date().toISOString()\n        };\n        setUfValue(newUfValue);\n        localStorage.setItem('ufValue', JSON.stringify(newUfValue));\n        toast.success(`UF actualizada: $${newUfValue.value.toLocaleString('es-CL')}`);\n      }\n    } catch (error) {\n      console.error('Error fetching UF:', error);\n      toast.error('Error al obtener valor de la UF');\n    } finally {\n      setLoadingUF(false);\n    }\n  };\n\n  const loadAllData = async () => {\n    try {\n      setLoading(true);\n      const [statsRes, contractsRes, ticketsRes, roomsRes, boothsRes, bookingsRes, requestsRes] = await Promise.all([\n        apiClient.get('/dashboard/stats'),\n        apiClient.get('/contracts/expiring-soon'),\n        apiClient.get('/tickets'),\n        apiClient.get('/rooms'),\n        apiClient.get('/booths'),\n        apiClient.get('/bookings'),\n        apiClient.get('/requests')\n      ]);\n      \n      setStats(statsRes.data);\n      setExpiringContracts(contractsRes.data);\n      setTickets(ticketsRes.data);\n      setRooms(roomsRes.data);\n      setBooths(boothsRes.data);\n      setBookings(bookingsRes.data);\n      \n      const bookingRequests = requestsRes.data.filter(\n        r => r.request_type === 'booking' && r.status === 'new'\n      );\n      setPendingRequests(bookingRequests);\n    } catch (error) {\n      console.error('Error loading data:', error);\n      toast.error('Error al cargar datos');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Calcular mÃ©tricas de ventas\n  const calculateSalesMetrics = () => {\n    const [year, month] = selectedMonth.split('-').map(Number);\n    const selectedMonthIndex = month - 1;\n    \n    const monthSales = tickets.filter(ticket => {\n      const saleDate = new Date(ticket.ticket_date);\n      return saleDate.getMonth() === selectedMonthIndex && saleDate.getFullYear() === year;\n    });\n    \n    // Usar || 0 para manejar valores null/undefined y evitar NaN\n    const totalMonth = monthSales.reduce((sum, ticket) => sum + (ticket.total_amount || ticket.total || 0), 0);\n    const pendingSales = tickets.filter(ticket => ticket.payment_status === 'pending');\n    const totalPending = pendingSales.reduce((sum, ticket) => sum + (ticket.total_amount || ticket.total || 0), 0);\n    \n    return {\n      totalMonth,\n      monthSalesCount: monthSales.length,\n      pendingCount: pendingSales.length,\n      totalPending\n    };\n  };\n\n  const salesMetrics = calculateSalesMetrics();\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP'\n    }).format(amount);\n  };\n\n  // ========== FUNCIONES DEL CALENDARIO ==========\n\n  // Manejar movimiento de evento (drag and drop)\n  const handleEventDrop = async ({ event, start, end }) => {\n    const booking = event.resource;\n    \n    if (booking.status === 'blocked') {\n      toast.error('No puedes mover reservas bloqueadas automÃ¡ticamente');\n      return;\n    }\n\n    try {\n      await apiClient.put(`/bookings/${booking.id}`, {\n        start_time: moment(start).format('YYYY-MM-DDTHH:mm'),\n        end_time: moment(end).format('YYYY-MM-DDTHH:mm')\n      });\n      \n      toast.success('Reserva movida exitosamente');\n      loadAllData();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Error al mover la reserva');\n    }\n  };\n\n  // Manejar redimensionamiento de evento\n  const handleEventResize = async ({ event, start, end }) => {\n    const booking = event.resource;\n    \n    if (booking.status === 'blocked') {\n      toast.error('No puedes redimensionar reservas bloqueadas automÃ¡ticamente');\n      return;\n    }\n\n    try {\n      await apiClient.put(`/bookings/${booking.id}`, {\n        start_time: moment(start).format('YYYY-MM-DDTHH:mm'),\n        end_time: moment(end).format('YYYY-MM-DDTHH:mm')\n      });\n      \n      toast.success('DuraciÃ³n de reserva actualizada');\n      loadAllData();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Error al redimensionar la reserva');\n    }\n  };\n\n  // Manejar selecciÃ³n de rango para crear nueva reserva\n  const handleSelectSlot = (slotInfo) => {\n    setBookingForm({\n      resource_type: '',\n      resource_id: '',\n      resource_name: '',\n      client_name: '',\n      client_email: '',\n      client_phone: '',\n      start_time: moment(slotInfo.start).format('YYYY-MM-DDTHH:mm'),\n      end_time: moment(slotInfo.end).format('YYYY-MM-DDTHH:mm'),\n      notes: '',\n      status: 'pending'\n    });\n    setShowBookingModal(true);\n  };\n\n  // Crear nueva reserva\n  const handleCreateBooking = async () => {\n    if (!bookingForm.resource_id || !bookingForm.client_name || !bookingForm.client_email) {\n      toast.error('Por favor completa todos los campos requeridos');\n      return;\n    }\n\n    try {\n      const resourceName = bookingForm.resource_name || \n        [...rooms, ...booths].find(r => r.id === bookingForm.resource_id)?.name;\n      \n      await apiClient.post('/bookings', {\n        ...bookingForm,\n        resource_name: resourceName\n      });\n      \n      toast.success('Reserva creada exitosamente');\n      setShowBookingModal(false);\n      \n      // Resetear formulario\n      setBookingForm({\n        resource_type: '',\n        resource_id: '',\n        resource_name: '',\n        client_name: '',\n        client_email: '',\n        client_phone: '',\n        start_time: '',\n        end_time: '',\n        notes: '',\n        status: 'pending'\n      });\n      \n      // Recargar datos inmediatamente\n      await loadAllData();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Error al crear la reserva');\n    }\n  };\n\n  // Toggle filtro de recurso\n  const toggleResourceFilter = (resourceId) => {\n    setSelectedResources(prev => {\n      if (prev.includes(resourceId)) {\n        return prev.filter(id => id !== resourceId);\n      } else {\n        return [...prev, resourceId];\n      }\n    });\n  };\n\n  // Limpiar filtros\n  const clearResourceFilters = () => {\n    setSelectedResources([]);\n  };\n\n  // Abrir modal de ediciÃ³n\n  const handleEditBooking = (booking) => {\n    if (booking.status === 'blocked') {\n      toast.error('No puedes editar reservas bloqueadas automÃ¡ticamente');\n      return;\n    }\n\n    setEditingBooking(booking);\n    setBookingForm({\n      resource_type: booking.resource_type,\n      resource_id: booking.resource_id,\n      resource_name: booking.resource_name,\n      client_name: booking.client_name,\n      client_email: booking.client_email,\n      client_phone: booking.client_phone || '',\n      start_time: moment(booking.start_time).format('YYYY-MM-DDTHH:mm'),\n      end_time: moment(booking.end_time).format('YYYY-MM-DDTHH:mm'),\n      notes: booking.notes || '',\n      status: booking.status\n    });\n    setShowEditModal(true);\n  };\n\n  // Actualizar reserva existente\n  const handleUpdateBooking = async () => {\n    if (!bookingForm.resource_id || !bookingForm.client_name || !bookingForm.client_email) {\n      toast.error('Por favor completa todos los campos requeridos');\n      return;\n    }\n\n    try {\n      if (bookingForm.resource_id !== editingBooking.resource_id) {\n        await apiClient.put(`/bookings/${editingBooking.id}`, { status: 'cancelled' });\n        await apiClient.post('/bookings', {\n          resource_type: bookingForm.resource_type,\n          resource_id: bookingForm.resource_id,\n          resource_name: bookingForm.resource_name,\n          client_name: bookingForm.client_name,\n          client_email: bookingForm.client_email,\n          client_phone: bookingForm.client_phone,\n          start_time: bookingForm.start_time,\n          end_time: bookingForm.end_time,\n          notes: bookingForm.notes,\n          status: bookingForm.status\n        });\n        toast.success('Reserva actualizada con nuevo recurso');\n      } else {\n        await apiClient.put(`/bookings/${editingBooking.id}`, {\n          start_time: bookingForm.start_time,\n          end_time: bookingForm.end_time,\n          client_name: bookingForm.client_name,\n          client_email: bookingForm.client_email,\n          client_phone: bookingForm.client_phone,\n          notes: bookingForm.notes,\n          status: bookingForm.status\n        });\n        toast.success('Reserva actualizada exitosamente');\n      }\n      \n      setShowEditModal(false);\n      setEditingBooking(null);\n      loadAllData();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Error al actualizar la reserva');\n    }\n  };\n\n  // Cancelar reserva\n  const handleDeleteBooking = async () => {\n    if (!window.confirm('Â¿EstÃ¡s seguro de que quieres cancelar esta reserva?')) {\n      return;\n    }\n\n    try {\n      await apiClient.put(`/bookings/${editingBooking.id}`, { status: 'cancelled' });\n      toast.success('Reserva cancelada exitosamente');\n      setShowEditModal(false);\n      setEditingBooking(null);\n      loadAllData();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Error al cancelar la reserva');\n    }\n  };\n\n  // Mapa de colores de recursos\n  const resourceColorMap = useMemo(() => {\n    const allResources = [\n      ...rooms.map(r => ({ id: r.id, name: r.name, type: 'room' })),\n      ...booths.map(b => ({ id: b.id, name: b.name, type: 'booth' }))\n    ];\n    \n    const colorMap = {};\n    let fallbackIndex = 0;\n    \n    allResources.forEach((resource) => {\n      // Usar color fijo si existe, sino usar color de respaldo\n      let color = RESOURCE_COLORS[resource.name];\n      \n      if (!color) {\n        color = FALLBACK_COLORS[fallbackIndex % FALLBACK_COLORS.length];\n        fallbackIndex++;\n      }\n      \n      colorMap[resource.id] = {\n        name: resource.name,\n        type: resource.type,\n        color: color\n      };\n    });\n    \n    return colorMap;\n  }, [rooms, booths]);\n\n  // Convertir reservas a eventos del calendario (con filtro)\n  const calendarEvents = useMemo(() => {\n    // Aplicar filtro de recursos si hay alguno seleccionado\n    const filteredBookings = selectedResources.length > 0\n      ? bookings.filter(b => selectedResources.includes(b.resource_id))\n      : bookings;\n    \n    const bookingEvents = filteredBookings\n      .filter(booking => booking.status !== 'cancelled')\n      .map(booking => {\n        const resourceInfo = resourceColorMap[booking.resource_id] || {\n          name: booking.resource_name,\n          color: '#6b7280'\n        };\n        \n        const statusIcon = {\n          'confirmed': 'âœ“',\n          'pending': 'â±',\n          'blocked': 'ðŸ”’'\n        }[booking.status] || '';\n        \n        return {\n          id: booking.id,\n          title: `${statusIcon} ${resourceInfo.name} - ${booking.client_name}`,\n          start: new Date(booking.start_time),\n          end: new Date(booking.end_time),\n          resource: booking,\n          resourceInfo: resourceInfo,\n          isRequest: false\n        };\n      });\n    \n    // Aplicar filtro a solicitudes tambiÃ©n\n    const filteredRequests = selectedResources.length > 0\n      ? pendingRequests.filter(r => r.details?.resource_id && selectedResources.includes(r.details.resource_id))\n      : pendingRequests;\n    \n    const requestEvents = filteredRequests\n      .filter(req => req.details?.start_time && req.details?.end_time)\n      .map(request => {\n        const resourceInfo = resourceColorMap[request.details.resource_id] || {\n          name: request.details.resource_name || 'Recurso',\n          color: '#6b7280'\n        };\n        \n        return {\n          id: `request-${request.id}`,\n          title: `ðŸ“‹ SOLICITUD: ${resourceInfo.name} - ${request.client_name}`,\n          start: new Date(request.details.start_time),\n          end: new Date(request.details.end_time),\n          resource: {\n            ...request,\n            resource_id: request.details.resource_id,\n            resource_name: request.details.resource_name,\n            resource_type: request.details.resource_type,\n            status: 'request'\n          },\n          resourceInfo: resourceInfo,\n          isRequest: true\n        };\n      });\n    \n    return [...bookingEvents, ...requestEvents];\n  }, [bookings, pendingRequests, resourceColorMap, selectedResources]);\n\n  // Estilos de eventos del calendario (usa colores de la leyenda)\n  const eventPropGetter = (event) => {\n    const booking = event.resource;\n    const status = booking.status;\n    const isRequest = event.isRequest;\n    \n    // Obtener color del recurso desde el mapa de colores\n    const resourceData = resourceColorMap[booking.resource_id];\n    const color = resourceData ? resourceData.color : '#6b7280';\n    \n    // Generar clase CSS basada en el nombre del recurso\n    let className = '';\n    const resourceName = booking.resource_name || '';\n    \n    if (resourceName.includes('Gran Apoquindo')) {\n      className = 'sala-gran-apoquindo';\n    } else if (resourceName.includes('iContel')) {\n      className = 'sala-icontel';\n    } else if (resourceName.includes('Badajoz')) {\n      className = 'sala-badajoz';\n    } else if (resourceName.includes('Rosario')) {\n      className = 'sala-rosario';\n    } else if (resourceName.includes('Caseta 1')) {\n      className = 'caseta-1';\n    } else if (resourceName.includes('Caseta 2')) {\n      className = 'caseta-2';\n    }\n    \n    // Estilo especial para solicitudes pendientes de aprobaciÃ³n\n    if (isRequest) {\n      return {\n        className: 'solicitud-pendiente',\n        style: {\n          backgroundColor: '#ff8a00',\n          border: '3px dashed #ff6600',\n          borderRadius: '6px',\n          opacity: 0.85,\n          color: 'white',\n          fontSize: '11px',\n          fontWeight: '700',\n          padding: '4px 6px',\n          boxShadow: '0 2px 8px rgba(255, 138, 0, 0.4)',\n          cursor: 'pointer',\n          textShadow: '0 1px 2px rgba(0,0,0,0.3)'\n        }\n      };\n    }\n    \n    // Estilos base con el color del recurso\n    let style = {\n      backgroundColor: color,\n      border: `4px solid ${color}`,\n      borderRadius: '6px',\n      opacity: 1,\n      color: 'white',\n      fontSize: '11px',\n      fontWeight: '700',\n      padding: '4px 6px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n      cursor: 'pointer',\n      textShadow: '0 1px 2px rgba(0,0,0,0.3)'\n    };\n    \n    // Variaciones segÃºn el estado\n    switch (status) {\n      case 'confirmed':\n        style.fontWeight = '700';\n        break;\n      case 'pending':\n        style.opacity = 0.85;\n        style.border = `3px dashed ${color}`;\n        style.boxShadow = 'none';\n        style.fontWeight = '600';\n        break;\n      case 'blocked':\n        const r = parseInt(color.slice(1, 3), 16);\n        const g = parseInt(color.slice(3, 5), 16);\n        const b = parseInt(color.slice(5, 7), 16);\n        style.backgroundColor = `rgba(${r}, ${g}, ${b}, 0.4)`;\n        style.opacity = 0.7;\n        style.border = `2px dotted ${color}`;\n        style.boxShadow = 'none';\n        style.cursor = 'not-allowed';\n        style.fontWeight = '600';\n        break;\n      default:\n        break;\n    }\n    \n    return {\n      className: className,\n      style: style\n    };\n  };\n\n  // Leyenda de colores\n  const legend = useMemo(() => {\n    return Object.entries(resourceColorMap).map(([id, info]) => ({\n      id,\n      name: info.name,\n      type: info.type,\n      color: info.color\n    }));\n  }, [resourceColorMap]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 font-primary\">Cargando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\" data-testid=\"dashboard-container\">\n      {/* Header con botÃ³n Nueva Venta y UF */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"font-secondary text-4xl md:text-5xl font-black uppercase text-black tracking-tight\">\n            DASHBOARD\n          </h1>\n          <div className=\"h-1 w-32 tna-gradient mt-4\"></div>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          {/* Indicador UF */}\n          <div className=\"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-sm border border-gray-200\">\n            <div className=\"text-right\">\n              <p className=\"text-[10px] text-gray-500 font-primary uppercase\">Valor UF</p>\n              <p className=\"text-sm font-bold text-gray-800 font-primary\">\n                ${ufValue.value.toLocaleString('es-CL')}\n              </p>\n            </div>\n            <button\n              onClick={fetchUFValue}\n              disabled={loadingUF}\n              className=\"p-1.5 hover:bg-gray-200 rounded transition-colors disabled:opacity-50\"\n              title=\"Actualizar valor UF\"\n            >\n              <RefreshCw className={`w-4 h-4 text-gray-600 ${loadingUF ? 'animate-spin' : ''}`} />\n            </button>\n          </div>\n          {user?.role !== 'comisionista' && (\n            <Button\n              onClick={() => navigate('/tickets?newSale=true')}\n              className=\"bg-gradient-to-r from-[#FF8A00] to-[#FF3D3D] hover:from-[#FF9A20] hover:to-[#FF5D5D] text-white rounded-sm font-bold uppercase tracking-wide font-secondary shadow-lg hover:shadow-xl transition-all duration-300\"\n            >\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Nueva Venta\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* Alertas de Contratos por Vencer */}\n      {expiringContracts.length > 0 && (\n        <Card className=\"bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-300 rounded-sm shadow-lg\">\n          <CardHeader className=\"border-b border-orange-200 bg-gradient-to-r from-orange-100/50 to-red-100/50 py-3\">\n            <div className=\"flex items-center justify-between\">\n              <CardTitle className=\"font-secondary uppercase text-orange-800 flex items-center gap-3\">\n                <div className=\"p-2 bg-orange-500 rounded-full animate-pulse\">\n                  <AlertTriangle className=\"w-4 h-4 text-white\" />\n                </div>\n                <div>\n                  <span className=\"text-base\">Contratos PrÃ³ximos a Vencer</span>\n                  <span className=\"ml-2 px-2 py-0.5 bg-orange-500 text-white text-xs rounded-full font-primary\">\n                    {expiringContracts.length}\n                  </span>\n                </div>\n              </CardTitle>\n              <button\n                onClick={() => navigate('/clients')}\n                className=\"px-3 py-1.5 bg-orange-500 hover:bg-orange-600 text-white rounded-sm text-xs font-primary font-medium transition-colors\"\n              >\n                Ver clientes â†’\n              </button>\n            </div>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <div className=\"divide-y divide-orange-100 max-h-[200px] overflow-y-auto\">\n              {expiringContracts.map((contract, index) => (\n                <div \n                  key={index} \n                  className={`flex items-center justify-between px-4 py-3 cursor-pointer transition-all ${\n                    contract.status === 'expired' ? 'bg-red-50 hover:bg-red-100' :\n                    contract.status === 'critical' ? 'bg-orange-50 hover:bg-orange-100' : 'hover:bg-yellow-50'\n                  }`}\n                  onClick={() => navigate('/clients')}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className={`p-2 rounded-lg ${\n                      contract.status === 'expired' ? 'bg-red-500' :\n                      contract.status === 'critical' ? 'bg-orange-500' : 'bg-yellow-500'\n                    }`}>\n                      <FileText className=\"w-4 h-4 text-white\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-bold text-gray-900 font-primary\">{contract.client_name}</p>\n                      <p className=\"text-xs text-gray-600 font-primary truncate max-w-[250px]\">{contract.document_name}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className={`inline-flex items-center gap-1 px-2 py-1 rounded-full font-primary font-bold text-xs ${\n                      contract.status === 'expired' ? 'bg-red-500 text-white' :\n                      contract.status === 'critical' ? 'bg-orange-500 text-white' : 'bg-yellow-400 text-yellow-900'\n                    }`}>\n                      {contract.status === 'expired' && <AlertTriangle className=\"w-3 h-3\" />}\n                      {contract.days_remaining < 0 \n                        ? `Vencido hace ${Math.abs(contract.days_remaining)} dÃ­as`\n                        : contract.days_remaining === 0 \n                          ? 'Â¡Vence hoy!'\n                          : `${contract.days_remaining} dÃ­as`\n                      }\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* KPIs Principales */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card \n          className=\"bg-white border-gray-200 rounded-sm hover:border-[#FF8A00] transition-all duration-300 cursor-pointer group\"\n          onClick={() => navigate('/requests')}\n        >\n          <CardHeader className=\"flex flex-row items-center justify-between pb-2 border-b border-gray-200\">\n            <CardTitle className=\"text-sm font-secondary uppercase text-gray-600\">Solicitudes</CardTitle>\n            <div className=\"relative\">\n              <Bell \n                className={`w-5 h-5 transition-colors ${\n                  stats?.new_requests > 0 ? 'text-[#FF8A00] animate-pulse' : 'text-gray-400'\n                }`} \n                strokeWidth={1.5} \n              />\n              {stats?.new_requests > 0 && (\n                <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-[#FF8A00] rounded-full border-2 border-white\"></span>\n              )}\n            </div>\n          </CardHeader>\n          <CardContent className=\"pt-4\">\n            <div className=\"text-3xl font-bold text-black font-primary group-hover:text-[#FF8A00] transition-colors\" data-testid=\"new-requests\">\n              {stats?.new_requests || 0}\n            </div>\n            <p className=\"text-xs text-gray-500 mt-1 font-primary\">\n              {stats?.new_requests > 0 ? 'Nuevas - Click para revisar' : 'Nuevas'}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-white border-gray-200 rounded-sm\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <p className=\"text-xs text-gray-500 font-primary uppercase\">Ventas del Mes</p>\n              <select\n                value={selectedMonth}\n                onChange={(e) => setSelectedMonth(e.target.value)}\n                className=\"text-xs bg-gray-100 border-0 rounded px-2 py-1 font-primary text-gray-600 cursor-pointer hover:bg-gray-200 transition-colors\"\n              >\n                {availableMonths.map(month => (\n                  <option key={month.value} value={month.value}>{month.label}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-2xl font-bold text-black font-secondary\" data-testid=\"total-sales\">{formatCurrency(salesMetrics.totalMonth)}</p>\n                <p className=\"text-xs text-gray-400 font-primary\">{salesMetrics.monthSalesCount} ventas</p>\n              </div>\n              <div className=\"w-12 h-12 bg-green-100 rounded-sm flex items-center justify-center\">\n                <TrendingUp className=\"w-6 h-6 text-green-600\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card \n          className=\"bg-white border-gray-200 rounded-sm cursor-pointer transition-all hover:shadow-md hover:border-amber-400\"\n          onClick={() => navigate('/tickets')}\n        >\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-xs text-gray-500 font-primary uppercase\">Pendientes de Pago</p>\n                <p className=\"text-2xl font-bold text-black font-secondary\">{formatCurrency(salesMetrics.totalPending)}</p>\n                <p className=\"text-xs text-gray-400 font-primary\">{salesMetrics.pendingCount} ventas â€¢ Click para ver</p>\n              </div>\n              <div className=\"w-12 h-12 bg-amber-100 rounded-sm flex items-center justify-center\">\n                <Clock className=\"w-6 h-6 text-amber-600\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Ventas por CategorÃ­a */}\n      <Card className=\"bg-white border-gray-200 rounded-sm\">\n        <CardHeader className=\"border-b border-gray-200\">\n          <CardTitle className=\"font-secondary uppercase text-black\">Ventas por CategorÃ­a</CardTitle>\n        </CardHeader>\n        <CardContent className=\"pt-6\">\n          {stats?.sales_by_category && Object.keys(stats.sales_by_category).length > 0 ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {Object.entries(stats.sales_by_category).map(([category, amount]) => (\n                <div key={category} className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-600 font-primary\">{category}</span>\n                    <span className=\"text-black font-semibold font-primary\">{formatCurrency(amount)}</span>\n                  </div>\n                  <div className=\"h-2 bg-gray-100 rounded-full overflow-hidden\">\n                    <div \n                      className=\"h-full tna-gradient\" \n                      style={{ width: `${(amount / stats.total_sales) * 100}%` }}\n                    ></div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-gray-500 text-center py-8 font-primary\">No hay datos disponibles</p>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Calendario General Completo */}\n      <Card className=\"bg-white border-gray-200 rounded-sm shadow-lg\">\n        <CardHeader className=\"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center\">\n                <CalendarIcon className=\"w-5 h-5 text-white\" />\n              </div>\n              <div>\n                <CardTitle className=\"font-secondary uppercase text-xl text-gray-900\">\n                  CALENDARIO GENERAL\n                </CardTitle>\n                <p className=\"text-xs text-gray-600 font-primary mt-1\">\n                  Todas las reservas de salas y casetas\n                </p>\n              </div>\n            </div>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => navigate('/all-bookings')}\n              className=\"text-xs\"\n            >\n              Abrir en pantalla completa â†’\n            </Button>\n          </div>\n        </CardHeader>\n        \n        <CardContent className=\"p-4\">\n          {/* Leyenda de recursos - clickeable para filtrar */}\n          <div className=\"mb-4 bg-gray-50 p-3 rounded-lg border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <h3 className=\"font-secondary uppercase text-xs font-bold text-gray-700\">\n                Filtrar por Recurso: {selectedResources.length > 0 && `(${selectedResources.length} seleccionados)`}\n              </h3>\n              {selectedResources.length > 0 && (\n                <button\n                  onClick={clearResourceFilters}\n                  className=\"text-xs text-blue-600 hover:text-blue-800 font-primary underline\"\n                >\n                  Limpiar filtros\n                </button>\n              )}\n            </div>\n            <div className=\"flex flex-wrap gap-2\">\n              {legend.map((item) => {\n                const isSelected = selectedResources.includes(item.id);\n                return (\n                  <button \n                    key={item.id}\n                    onClick={() => toggleResourceFilter(item.id)}\n                    className={`flex items-center gap-1 px-2 py-1 rounded border transition-all cursor-pointer ${\n                      isSelected \n                        ? 'bg-blue-100 border-blue-400 ring-2 ring-blue-300' \n                        : selectedResources.length > 0 \n                          ? 'bg-gray-100 border-gray-200 opacity-50 hover:opacity-100' \n                          : 'bg-white border-gray-200 hover:border-gray-400'\n                    }`}\n                  >\n                    <div \n                      className=\"w-3 h-3 rounded\" \n                      style={{ backgroundColor: item.color }}\n                    ></div>\n                    <span className={`text-xs font-primary ${isSelected ? 'text-blue-800 font-semibold' : 'text-gray-700'}`}>\n                      {item.name}\n                    </span>\n                    {isSelected && (\n                      <span className=\"text-blue-600 ml-1\">âœ“</span>\n                    )}\n                  </button>\n                );\n              })}\n            </div>\n            {selectedResources.length > 0 && (\n              <p className=\"text-xs text-gray-500 mt-2 font-primary\">\n                ðŸ’¡ Click en los recursos para agregar/quitar del filtro\n              </p>\n            )}\n          </div>\n\n          {/* EstadÃ­sticas rÃ¡pidas */}\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4\">\n            <div className=\"bg-green-50 p-3 rounded-lg border border-green-200\">\n              <div className=\"text-xl font-bold text-green-600 font-primary\">\n                {bookings.filter(b => b.status === 'confirmed').length}\n              </div>\n              <div className=\"text-xs text-green-700 font-secondary uppercase\">Confirmadas</div>\n            </div>\n            <div className=\"bg-yellow-50 p-3 rounded-lg border border-yellow-200\">\n              <div className=\"text-xl font-bold text-yellow-600 font-primary\">\n                {bookings.filter(b => b.status === 'pending').length}\n              </div>\n              <div className=\"text-xs text-yellow-700 font-secondary uppercase\">Pendientes</div>\n            </div>\n            <div className=\"bg-orange-50 p-3 rounded-lg border border-orange-200\">\n              <div className=\"text-xl font-bold text-orange-600 font-primary\">\n                {pendingRequests.length}\n              </div>\n              <div className=\"text-xs text-orange-700 font-secondary uppercase\">Por Aprobar</div>\n            </div>\n            <div className=\"bg-gray-50 p-3 rounded-lg border border-gray-200\">\n              <div className=\"text-xl font-bold text-gray-600 font-primary\">\n                {bookings.filter(b => b.status === 'blocked').length}\n              </div>\n              <div className=\"text-xs text-gray-700 font-secondary uppercase\">Bloqueadas</div>\n            </div>\n            <div className=\"bg-blue-50 p-3 rounded-lg border border-blue-200\">\n              <div className=\"text-xl font-bold text-blue-600 font-primary\">\n                {rooms.length + booths.length}\n              </div>\n              <div className=\"text-xs text-blue-700 font-secondary uppercase\">Recursos</div>\n            </div>\n          </div>\n\n          {/* Calendario con Drag and Drop */}\n          <div style={{ height: '550px' }}>\n            <DragAndDropCalendar\n              key={`calendar-${bookings.length}-${rooms.length}`}\n              localizer={localizer}\n              events={calendarEvents}\n              startAccessor=\"start\"\n              endAccessor=\"end\"\n              style={{ height: '100%' }}\n              eventPropGetter={eventPropGetter}\n              views={['month', 'week', 'day', 'agenda']}\n              defaultView=\"week\"\n              min={new Date(2024, 0, 1, 8, 0, 0)}\n              max={new Date(2024, 0, 1, 19, 0, 0)}\n              draggableAccessor={(event) => event.resource.status !== 'blocked'}\n              resizable\n              onEventDrop={handleEventDrop}\n              onEventResize={handleEventResize}\n              onSelectSlot={handleSelectSlot}\n              selectable\n              messages={{\n                next: \"Siguiente\",\n                previous: \"Anterior\",\n                today: \"Hoy\",\n                month: \"Mes\",\n                week: \"Semana\",\n                day: \"DÃ­a\",\n                agenda: \"Agenda\",\n                date: \"Fecha\",\n                time: \"Hora\",\n                event: \"Evento\",\n                allDay: \"Todo el dÃ­a\",\n                noEventsInRange: \"Sin reservas en este rango\",\n                showMore: (total) => `+${total} mÃ¡s`\n              }}\n              onSelectEvent={(event) => {\n                if (event.isRequest) {\n                  toast.info('Redirigiendo a solicitudes para aprobar/rechazar...', { duration: 2000 });\n                  navigate('/requests');\n                } else {\n                  handleEditBooking(event.resource);\n                }\n              }}\n              popup\n            />\n          </div>\n\n          {/* Leyenda de estados e instrucciones */}\n          <div className=\"mt-4 space-y-2\">\n            <div className=\"flex flex-wrap gap-4 text-sm font-primary bg-blue-50 p-3 rounded-lg border border-blue-200\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 bg-green-500 rounded border-4 border-green-500\"></div>\n                <span className=\"text-gray-700 font-semibold\">âœ“ Confirmada</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 bg-yellow-500 rounded border-2 border-dashed border-yellow-500\"></div>\n                <span className=\"text-gray-700 font-semibold\">â± Pendiente</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 bg-orange-500 rounded border-2 border-dashed border-orange-600\"></div>\n                <span className=\"text-gray-700 font-semibold\">ðŸ“‹ Solicitud por Aprobar</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 bg-gray-400 opacity-50 rounded border-2 border-dotted border-gray-400\"></div>\n                <span className=\"text-gray-700 font-semibold\">ðŸ”’ Bloqueada</span>\n              </div>\n            </div>\n            <div className=\"text-sm font-primary bg-orange-50 p-3 rounded-lg border border-orange-200 text-gray-700\">\n              ðŸ’¡ <span className=\"font-semibold\">GuÃ­a rÃ¡pida:</span> \n              Click en evento para editar â€¢ Arrastra para mover â€¢ Redimensiona desde esquinas â€¢ Selecciona rango para crear nueva\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Modal para crear nueva reserva */}\n      <Dialog open={showBookingModal} onOpenChange={setShowBookingModal}>\n        <DialogContent className=\"bg-white max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"font-secondary uppercase text-xl\">\n              Nueva Reserva\n            </DialogTitle>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <Label className=\"font-primary text-sm font-semibold\">Tipo de Recurso *</Label>\n              <Select\n                value={bookingForm.resource_type}\n                onValueChange={(value) => {\n                  setBookingForm({ ...bookingForm, resource_type: value, resource_id: '' });\n                }}\n              >\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Selecciona tipo\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"room\">Sala</SelectItem>\n                  <SelectItem value=\"booth\">Caseta</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            {bookingForm.resource_type && (\n              <div>\n                <Label className=\"font-primary text-sm font-semibold\">\n                  {bookingForm.resource_type === 'room' ? 'Sala' : 'Caseta'} *\n                </Label>\n                <Select\n                  value={bookingForm.resource_id}\n                  onValueChange={(value) => {\n                    const resource = (bookingForm.resource_type === 'room' ? rooms : booths)\n                      .find(r => r.id === value);\n                    setBookingForm({ \n                      ...bookingForm, \n                      resource_id: value,\n                      resource_name: resource?.name || ''\n                    });\n                  }}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Selecciona recurso\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {(bookingForm.resource_type === 'room' ? rooms : booths).map((resource) => (\n                      <SelectItem key={resource.id} value={resource.id}>\n                        {resource.name} ({resource.capacity} personas)\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            )}\n\n            <div>\n              <Label className=\"font-primary text-sm font-semibold\">Nombre del Cliente *</Label>\n              <Input\n                value={bookingForm.client_name}\n                onChange={(e) => setBookingForm({ ...bookingForm, client_name: e.target.value })}\n                placeholder=\"Ej: Juan PÃ©rez\"\n              />\n            </div>\n\n            <div>\n              <Label className=\"font-primary text-sm font-semibold\">Email *</Label>\n              <Input\n                type=\"email\"\n                value={bookingForm.client_email}\n                onChange={(e) => setBookingForm({ ...bookingForm, client_email: e.target.value })}\n                placeholder=\"ejemplo@email.com\"\n              />\n            </div>\n\n            <div>\n              <Label className=\"font-primary text-sm font-semibold\">TelÃ©fono</Label>\n              <Input\n                value={bookingForm.client_phone}\n                onChange={(e) => setBookingForm({ ...bookingForm, client_phone: e.target.value })}\n                placeholder=\"+56 9 XXXX XXXX\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <Label className=\"font-primary text-sm font-semibold\">Inicio *</Label>\n                <Input\n                  type=\"datetime-local\"\n                  value={bookingForm.start_time}\n                  onChange={(e) => setBookingForm({ ...bookingForm, start_time: e.target.value })}\n                />\n              </div>\n              <div>\n                <Label className=\"font-primary text-sm font-semibold\">Fin *</Label>\n                <Input\n                  type=\"datetime-local\"\n                  value={bookingForm.end_time}\n                  onChange={(e) => setBookingForm({ ...bookingForm, end_time: e.target.value })}\n                />\n              </div>\n            </div>\n\n            <div>\n              <Label className=\"font-primary text-sm font-semibold\">Notas</Label>\n              <Input\n                value={bookingForm.notes}\n                onChange={(e) => setBookingForm({ ...bookingForm, notes: e.target.value })}\n                placeholder=\"InformaciÃ³n adicional (opcional)\"\n              />\n            </div>\n\n            <div className=\"flex gap-2 pt-4\">\n              <Button\n                onClick={handleCreateBooking}\n                className=\"flex-1 bg-green-600 hover:bg-green-700 text-white font-secondary uppercase\"\n              >\n                <Save className=\"w-4 h-4 mr-2\" />\n                Crear Reserva\n              </Button>\n              <Button\n                onClick={() => setShowBookingModal(false)}\n                variant=\"outline\"\n                className=\"font-secondary uppercase\"\n              >\n                <X className=\"w-4 h-4 mr-2\" />\n                Cancelar\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Modal para editar reserva */}\n      <Dialog open={showEditModal} onOpenChange={setShowEditModal}>\n        <DialogContent className=\"bg-white max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"font-secondary uppercase text-2xl text-gray-900 flex items-center gap-2\">\n              <div className=\"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center\">\n                <Save className=\"w-5 h-5 text-white\" />\n              </div>\n              Editar Reserva\n            </DialogTitle>\n          </DialogHeader>\n          \n          {editingBooking && (\n            <div className=\"space-y-4 pt-4\">\n              <div>\n                <Label className=\"font-primary text-sm font-semibold text-gray-700\">Tipo de Recurso *</Label>\n                <Select\n                  value={bookingForm.resource_type}\n                  onValueChange={(value) => {\n                    setBookingForm({ ...bookingForm, resource_type: value, resource_id: '', resource_name: '' });\n                  }}\n                >\n                  <SelectTrigger className=\"mt-1\">\n                    <SelectValue placeholder=\"Selecciona tipo\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"room\">ðŸ¢ Sala</SelectItem>\n                    <SelectItem value=\"booth\">ðŸ“ž Caseta</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {bookingForm.resource_type && (\n                <div>\n                  <Label className=\"font-primary text-sm font-semibold text-gray-700\">\n                    {bookingForm.resource_type === 'room' ? 'ðŸ¢ Sala' : 'ðŸ“ž Caseta'} *\n                  </Label>\n                  <Select\n                    value={bookingForm.resource_id}\n                    onValueChange={(value) => {\n                      const resource = (bookingForm.resource_type === 'room' ? rooms : booths)\n                        .find(r => r.id === value);\n                      setBookingForm({ \n                        ...bookingForm, \n                        resource_id: value,\n                        resource_name: resource?.name || ''\n                      });\n                    }}\n                  >\n                    <SelectTrigger className=\"mt-1\">\n                      <SelectValue placeholder=\"Selecciona recurso\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {(bookingForm.resource_type === 'room' ? rooms : booths).map((resource) => (\n                        <SelectItem key={resource.id} value={resource.id}>\n                          {resource.name} ({resource.capacity} personas)\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  {bookingForm.resource_id !== editingBooking.resource_id && (\n                    <p className=\"text-xs text-orange-600 mt-1 font-primary\">\n                      âš ï¸ Al cambiar el recurso se cancelarÃ¡ la reserva actual y se crearÃ¡ una nueva\n                    </p>\n                  )}\n                </div>\n              )}\n\n              <div>\n                <Label className=\"font-primary text-sm font-semibold text-gray-700\">Estado de la Reserva *</Label>\n                <Select\n                  value={bookingForm.status}\n                  onValueChange={(value) => setBookingForm({ ...bookingForm, status: value })}\n                >\n                  <SelectTrigger className=\"mt-1\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"pending\">â± Pendiente de ConfirmaciÃ³n</SelectItem>\n                    <SelectItem value=\"confirmed\">âœ“ Confirmada</SelectItem>\n                    <SelectItem value=\"cancelled\">âœ— Cancelada</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"border-t border-gray-200 my-4\"></div>\n\n              <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\n                <h3 className=\"font-secondary uppercase text-sm font-bold text-blue-900 mb-3\">\n                  Datos del Cliente\n                </h3>\n                <div className=\"space-y-3\">\n                  <div>\n                    <Label className=\"font-primary text-xs font-semibold text-gray-600\">Nombre *</Label>\n                    <Input\n                      value={bookingForm.client_name}\n                      onChange={(e) => setBookingForm({ ...bookingForm, client_name: e.target.value })}\n                      placeholder=\"Ej: Juan PÃ©rez\"\n                      className=\"mt-1\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <Label className=\"font-primary text-xs font-semibold text-gray-600\">Email *</Label>\n                      <Input\n                        type=\"email\"\n                        value={bookingForm.client_email}\n                        onChange={(e) => setBookingForm({ ...bookingForm, client_email: e.target.value })}\n                        placeholder=\"ejemplo@email.com\"\n                        className=\"mt-1\"\n                      />\n                    </div>\n\n                    <div>\n                      <Label className=\"font-primary text-xs font-semibold text-gray-600\">TelÃ©fono</Label>\n                      <Input\n                        value={bookingForm.client_phone}\n                        onChange={(e) => setBookingForm({ ...bookingForm, client_phone: e.target.value })}\n                        placeholder=\"+56 9 XXXX XXXX\"\n                        className=\"mt-1\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-green-50 p-4 rounded-lg border border-green-200\">\n                <h3 className=\"font-secondary uppercase text-sm font-bold text-green-900 mb-3\">\n                  Fechas y Horarios\n                </h3>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <Label className=\"font-primary text-xs font-semibold text-gray-600\">Inicio *</Label>\n                    <Input\n                      type=\"datetime-local\"\n                      value={bookingForm.start_time}\n                      onChange={(e) => setBookingForm({ ...bookingForm, start_time: e.target.value })}\n                      className=\"mt-1\"\n                    />\n                  </div>\n                  <div>\n                    <Label className=\"font-primary text-xs font-semibold text-gray-600\">Fin *</Label>\n                    <Input\n                      type=\"datetime-local\"\n                      value={bookingForm.end_time}\n                      onChange={(e) => setBookingForm({ ...bookingForm, end_time: e.target.value })}\n                      className=\"mt-1\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <Label className=\"font-primary text-sm font-semibold text-gray-700\">Notas adicionales</Label>\n                <Input\n                  value={bookingForm.notes}\n                  onChange={(e) => setBookingForm({ ...bookingForm, notes: e.target.value })}\n                  placeholder=\"InformaciÃ³n adicional (opcional)\"\n                  className=\"mt-1\"\n                />\n              </div>\n\n              <div className=\"border-t border-gray-200 my-4\"></div>\n\n              <div className=\"flex gap-3\">\n                <Button\n                  onClick={handleUpdateBooking}\n                  className=\"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-secondary uppercase py-6 shadow-lg\"\n                >\n                  <Save className=\"w-4 h-4 mr-2\" />\n                  Guardar Cambios\n                </Button>\n                <Button\n                  onClick={handleDeleteBooking}\n                  variant=\"destructive\"\n                  className=\"px-6 font-secondary uppercase\"\n                >\n                  Cancelar Reserva\n                </Button>\n              </div>\n              <Button\n                onClick={() => setShowEditModal(false)}\n                variant=\"outline\"\n                className=\"w-full font-secondary uppercase\"\n              >\n                <X className=\"w-4 h-4 mr-2\" />\n                Cerrar sin Guardar\n              </Button>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}